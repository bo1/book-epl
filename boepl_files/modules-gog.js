!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],b):a.URI=b(a.punycode,a.IPv6,a.SecondLevelDomains,a)}(this,function(a,b,c,d){"use strict";function e(a,b){return this instanceof e?(void 0===a&&(a="undefined"!=typeof location?location.href+"":""),this.href(a),void 0!==b?this.absoluteTo(b):this):new e(a,b)}function f(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function h(a){return"Array"===g(a)}function i(a,b){var c,d,e={};if(h(b))for(c=0,d=b.length;c<d;c++)e[b[c]]=!0;else e[b]=!0;for(c=0,d=a.length;c<d;c++)void 0!==e[a[c]]&&(a.splice(c,1),d--,c--);return a}function j(a,b){var c,d;if(h(b)){for(c=0,d=b.length;c<d;c++)if(!j(a,b[c]))return!1;return!0}var e=g(b);for(c=0,d=a.length;c<d;c++)if("RegExp"===e){if("string"==typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function k(a,b){if(!h(a)||!h(b))return!1;if(a.length!==b.length)return!1;a.sort(),b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function l(a){return escape(a)}function m(a){return encodeURIComponent(a).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}var n=d&&d.URI;e.version="1.13.2";var o=e.prototype,p=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}},e.duplicateQueryParameters=!1,e.escapeQuerySpace=!0,e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,e.idn_expression=/[^a-z0-9\.-]/i,e.punycode_expression=/(xn--)/i,e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},e.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},e.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();if("input"!==b||"image"===a.type)return e.domAttributes[b]}},e.encode=m,e.decode=decodeURIComponent,e.iso8859=function(){e.encode=escape,e.decode=unescape},e.unicode=function(){e.encode=m,e.decode=decodeURIComponent},e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},e.encodeQuery=function(a,b){var c=e.encode(a+"");return void 0===b&&(b=e.escapeQuerySpace),b?c.replace(/%20/g,"+"):c},e.decodeQuery=function(a,b){a+="",void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(b){return a}},e.recodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;c<d;c++)b[c]=e.encodePathSegment(e.decode(b[c]));return b.join("/")},e.decodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;c<d;c++)b[c]=e.decodePathSegment(b[c]);return b.join("/")};var q,r={encode:"encode",decode:"decode"},s=function(a,b){return function(c){return e[b](c+"").replace(e.characters[a][b].expression,function(c){return e.characters[a][b].map[c]})}};for(q in r)e[q+"PathSegment"]=s("pathname",r[q]);e.encodeReserved=s("reserved","encode"),e.parse=function(a,b){var c;return b||(b={}),c=a.indexOf("#"),c>-1&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c)),c=a.indexOf("?"),c>-1&&(b.query=a.substring(c+1)||null,a=a.substring(0,c)),"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"),c>-1&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"file"===b.protocol?a=a.substring(c+3):"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0))),b.path=a,b},e.parseHost=function(a,b){var c,d,e=a.indexOf("/");return e===-1&&(e=a.length),"["===a.charAt(0)?(c=a.indexOf("]"),b.hostname=a.substring(1,c)||null,b.port=a.substring(c+2,e)||null,"/"===b.port&&(b.port=null)):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,e)||null,b.port=null):(d=a.substring(0,e).split(":"),b.hostname=d[0]||null,b.port=d[1]||null),b.hostname&&"/"!==a.substring(e).charAt(0)&&(e++,a="/"+a),a.substring(e)||"/"},e.parseAuthority=function(a,b){return a=e.parseUserinfo(a,b),e.parseHost(a,b)},e.parseUserinfo=function(a,b){var c,d=a.indexOf("/"),f=d>-1?a.lastIndexOf("@",d):a.indexOf("@");return f>-1&&(d===-1||f<d)?(c=a.substring(0,f).split(":"),b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null),a},e.parseQuery=function(a,b){if(!a)return{};if(a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!a)return{};for(var c,d,f,g={},h=a.split("&"),i=h.length,j=0;j<i;j++)c=h[j].split("="),d=e.decodeQuery(c.shift(),b),f=c.length?e.decodeQuery(c.join("="),b):null,g[d]?("string"==typeof g[d]&&(g[d]=[g[d]]),g[d].push(f)):g[d]=f;return g},e.build=function(a){var b="";return a.protocol&&(b+=a.protocol+":"),a.urn||!b&&!a.hostname||(b+="//"),b+=e.buildAuthority(a)||"","string"==typeof a.path&&("/"!==a.path.charAt(0)&&"string"==typeof a.hostname&&(b+="/"),b+=a.path),"string"==typeof a.query&&a.query&&(b+="?"+a.query),"string"==typeof a.fragment&&a.fragment&&(b+="#"+a.fragment),b},e.buildHost=function(a){var b="";return a.hostname?(b+=e.ip6_expression.test(a.hostname)?"["+a.hostname+"]":a.hostname,a.port&&(b+=":"+a.port),b):""},e.buildAuthority=function(a){return e.buildUserinfo(a)+e.buildHost(a)},e.buildUserinfo=function(a){var b="";return a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@"),b},e.buildQuery=function(a,b,c){var d,f,g,i,j="";for(f in a)if(p.call(a,f)&&f)if(h(a[f]))for(d={},g=0,i=a[f].length;g<i;g++)void 0!==a[f][g]&&void 0===d[a[f][g]+""]&&(j+="&"+e.buildQueryParameter(f,a[f][g],c),b!==!0&&(d[a[f][g]+""]=!0));else void 0!==a[f]&&(j+="&"+e.buildQueryParameter(f,a[f],c));return j.substring(1)},e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")},e.addQuery=function(a,b,c){if("object"==typeof b)for(var d in b)p.call(b,d)&&e.addQuery(a,d,b[d]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===a[b])return void(a[b]=c);"string"==typeof a[b]&&(a[b]=[a[b]]),h(c)||(c=[c]),a[b]=a[b].concat(c)}},e.removeQuery=function(a,b,c){var d,f,g;if(h(b))for(d=0,f=b.length;d<f;d++)a[b[d]]=void 0;else if("object"==typeof b)for(g in b)p.call(b,g)&&e.removeQuery(a,g,b[g]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==c?a[b]===c?a[b]=void 0:h(a[b])&&(a[b]=i(a[b],c)):a[b]=void 0}},e.hasQuery=function(a,b,c,d){if("object"==typeof b){for(var f in b)if(p.call(b,f)&&!e.hasQuery(a,f,b[f]))return!1;return!0}if("string"!=typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(g(c)){case"Undefined":return b in a;case"Boolean":var i=Boolean(h(a[b])?a[b].length:a[b]);return c===i;case"Function":return!!c(a[b],b,a);case"Array":if(!h(a[b]))return!1;var l=d?j:k;return l(a[b],c);case"RegExp":return h(a[b])?!!d&&j(a[b],c):Boolean(a[b]&&a[b].match(c));case"Number":c=String(c);case"String":return h(a[b])?!!d&&j(a[b],c):a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},e.commonPath=function(a,b){var c,d=Math.min(a.length,b.length);for(c=0;c<d;c++)if(a.charAt(c)!==b.charAt(c)){c--;break}return c<1?a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"":("/"===a.charAt(c)&&"/"===b.charAt(c)||(c=a.substring(0,c).lastIndexOf("/")),a.substring(0,c+1))},e.withinString=function(a,b,c){c||(c={});var d=c.start||e.findUri.start,f=c.end||e.findUri.end,g=c.trim||e.findUri.trim,h=/[a-z0-9-]=["']?$/i;for(d.lastIndex=0;;){var i=d.exec(a);if(!i)break;var j=i.index;if(c.ignoreHtml){var k=a.slice(Math.max(j-3,0),j);if(k&&h.test(k))continue}var l=j+a.slice(j).search(f),m=a.slice(j,l).replace(g,"");if(!c.ignore||!c.ignore.test(m)){l=j+m.length;var n=b(m,j,l,a);a=a.slice(0,j)+n+a.slice(l),d.lastIndex=j+n.length}}return d.lastIndex=0,a},e.ensureValidHostname=function(b){if(b.match(e.invalid_hostname_characters)){if(!a)throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(a.toASCII(b).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-]')}},e.noConflict=function(a){if(a){var b={URI:this.noConflict()};return d.URITemplate&&"function"==typeof d.URITemplate.noConflict&&(b.URITemplate=d.URITemplate.noConflict()),d.IPv6&&"function"==typeof d.IPv6.noConflict&&(b.IPv6=d.IPv6.noConflict()),d.SecondLevelDomains&&"function"==typeof d.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=d.SecondLevelDomains.noConflict()),b}return d.URI===this&&(d.URI=n),this},o.build=function(a){return a===!0?this._deferred_build=!0:(void 0===a||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this},o.clone=function(){return new e(this)},o.valueOf=o.toString=function(){return this.build(!1)._string},r={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},s=function(a){return function(b,c){return void 0===b?this._parts[a]||"":(this._parts[a]=b||null,this.build(!c),this)}};for(q in r)o[q]=s(r[q]);r={query:"?",fragment:"#"},s=function(a,b){return function(c,d){return void 0===c?this._parts[a]||"":(null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1))),this._parts[a]=c,this.build(!d),this)}};for(q in r)o[q]=s(q,r[q]);r={search:["?","query"],hash:["#","fragment"]},s=function(a,b){return function(c,d){var e=this[a](c,d);return"string"==typeof e&&e.length?b+e:e}};for(q in r)o[q]=s(r[q][1],r[q][0]);o.pathname=function(a,b){if(void 0===a||a===!0){var c=this._parts.path||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}return this._parts.path=a?e.recodePath(a):"/",this.build(!b),this},o.path=o.pathname,o.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="",this._parts=e._parts();var d=a instanceof e,f="object"==typeof a&&(a.hostname||a.path||a.pathname);if(a.nodeName){var g=e.getDomAttribute(a);a=a[g]||"",f=!1}if(!d&&f&&void 0!==a.pathname&&(a=a.toString()),"string"==typeof a)this._parts=e.parse(a,this._parts);else{if(!d&&!f)throw new TypeError("invalid input");var h=d?a._parts:a;for(c in h)p.call(this._parts,c)&&(this._parts[c]=h[c])}return this.build(!b),this},o.is=function(a){var b=!1,d=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!this._parts.urn;switch(this._parts.hostname&&(k=!1,d=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=d||f,g=!b,h=g&&c&&c.has(this._parts.hostname),i=g&&e.idn_expression.test(this._parts.hostname),j=g&&e.punycode_expression.test(this._parts.hostname)),a.toLowerCase()){case"relative":return k;case"absolute":return!k;case"domain":case"name":return g;case"sld":return h;case"ip":return b;case"ip4":case"ipv4":case"inet4":return d;case"ip6":case"ipv6":case"inet6":return f;case"idn":return i;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return j}return null};var t=o.protocol,u=o.port,v=o.hostname;o.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return t.call(this,a,b)},o.scheme=o.protocol,o.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return u.call(this,a,b)},o.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};e.parseHost(a,c),a=c.hostname}return v.call(this,a,b)},o.host=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildHost(this._parts):"":(e.parseHost(a,this._parts),this.build(!b),this)},o.authority=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildAuthority(this._parts):"":(e.parseAuthority(a,this._parts),this.build(!b),this)},o.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}return"@"!==a[a.length-1]&&(a+="@"),e.parseUserinfo(a,this._parts),this.build(!b),this},o.resource=function(a,b){var c;return void 0===a?this.path()+this.search()+this.hash():(c=e.parse(a),this._parts.path=c.path,this._parts.query=c.query,this._parts.fragment=c.fragment,this.build(!b),this)},o.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}var d=this._parts.hostname.length-this.domain().length,g=this._parts.hostname.substring(0,d),h=new RegExp("^"+f(g));return a&&"."!==a.charAt(a.length-1)&&(a+="."),a&&e.ensureValidHostname(a),this._parts.hostname=this._parts.hostname.replace(h,a),this.build(!b),this},o.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&c.length<2)return this._parts.hostname;var d=this._parts.hostname.length-this.tld(b).length-1;return d=this._parts.hostname.lastIndexOf(".",d-1)+1,this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");if(e.ensureValidHostname(a),!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var g=new RegExp(f(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},o.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(d+1);return b!==!0&&c&&c.list[e.toLowerCase()]?c.get(this._parts.hostname)||e:e}var g;if(!a)throw new TypeError("cannot set TLD empty");if(a.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(a))throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},o.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(d):d}var g=this._parts.path.length-this.filename().length,h=this._parts.path.substring(0,g),i=new RegExp("^"+f(h));return this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a)),a&&"/"!==a.charAt(a.length-1)&&(a+="/"),a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a),this.build(!b),this},o.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(c+1);return a?e.decodePathSegment(d):d}var g=!1;"/"===a.charAt(0)&&(a=a.substring(1)),a.match(/\.?\//)&&(g=!0);var h=new RegExp(f(this.filename())+"$");return a=e.recodePath(a),this._parts.path=this._parts.path.replace(h,a),g?this.normalizePath(b):this.build(!b),this},o.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var c,d,g=this.filename(),h=g.lastIndexOf(".");return h===-1?"":(c=g.substring(h+1),d=/^[a-z0-9%]+$/i.test(c)?c:"",a?e.decodePathSegment(d):d)}"."===a.charAt(0)&&(a=a.substring(1));var i,j=this.suffix();if(j)i=a?new RegExp(f(j)+"$"):new RegExp(f("."+j)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}return i&&(a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a)),this.build(!b),this},o.segment=function(a,b,c){var d=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),g=e.split(d);if(void 0!==a&&"number"!=typeof a&&(c=b,b=a,a=void 0),void 0!==a&&"number"!=typeof a)throw new Error('Bad segment "'+a+'", must be 0-based integer');if(f&&g.shift(),a<0&&(a=Math.max(g.length+a,0)),void 0===b)return void 0===a?g:g[a];if(null===a||void 0===g[a])if(h(b)){g=[];for(var i=0,j=b.length;i<j;i++)(b[i].length||g.length&&g[g.length-1].length)&&(g.length&&!g[g.length-1].length&&g.pop(),g.push(b[i]))}else(b||"string"==typeof b)&&(""===g[g.length-1]?g[g.length-1]=b:g.push(b));else b||"string"==typeof b&&b.length?g[a]=b:g.splice(a,1);return f&&g.unshift(""),this.path(g.join(d),c)},o.segmentCoded=function(a,b,c){var d,f,g;if("number"!=typeof a&&(c=b,b=a,a=void 0),void 0===b){if(d=this.segment(a,b,c),h(d))for(f=0,g=d.length;f<g;f++)d[f]=e.decode(d[f]);else d=void 0!==d?e.decode(d):void 0;return d}if(h(b))for(f=0,g=b.length;f<g;f++)b[f]=e.decode(b[f]);else b="string"==typeof b?e.encode(b):b;return this.segment(a,b,c)};var w=o.query;return o.query=function(a,b){if(a===!0)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);return this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this}return void 0!==a&&"string"!=typeof a?(this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):w.call(this,a,b)},o.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof a)for(var f in a)p.call(a,f)&&(d[f]=a[f]);else{if("string"!=typeof a)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");d[a]=void 0!==b?b:null}return this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},o.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.addQuery(d,a,void 0===b?null:b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},o.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.removeQuery(d,a,b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},o.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)},o.setSearch=o.setQuery,o.addSearch=o.addQuery,o.removeSearch=o.removeQuery,o.hasSearch=o.hasQuery,o.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},o.normalizeProtocol=function(a){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a)),this},o.normalizeHostname=function(c){return this._parts.hostname&&(this.is("IDN")&&a?this._parts.hostname=a.toASCII(this._parts.hostname):this.is("IPv6")&&b&&(this._parts.hostname=b.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!c)),this},o.normalizePort=function(a){return"string"==typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a)),this},o.normalizePath=function(a){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var b,c,d,f=this._parts.path,g="";for("/"!==f.charAt(0)&&(b=!0,f="/"+f),f=f.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),b&&(g=f.substring(1).match(/^(\.\.\/)+/)||"",g&&(g=g[0]));;){if(c=f.indexOf("/.."),c===-1)break;0!==c?(d=f.substring(0,c).lastIndexOf("/"),d===-1&&(d=c),f=f.substring(0,d)+f.substring(c+3)):f=f.substring(3)}return b&&this.is("relative")&&(f=g+f.substring(1)),f=e.recodePath(f),this._parts.path=f,this.build(!a),this},o.normalizePathname=o.normalizePath,o.normalizeQuery=function(a){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a)),this},o.normalizeFragment=function(a){return this._parts.fragment||(this._parts.fragment=null,this.build(!a)),this},o.normalizeSearch=o.normalizeQuery,o.normalizeHash=o.normalizeFragment,o.iso8859=function(){var a=e.encode,b=e.decode;return e.encode=escape,e.decode=decodeURIComponent,this.normalize(),e.encode=a,e.decode=b,this},o.unicode=function(){var a=e.encode,b=e.decode;return e.encode=m,e.decode=unescape,this.normalize(),e.encode=a,e.decode=b,this},o.readable=function(){var b=this.clone();b.username("").password("").normalize();var c="";if(b._parts.protocol&&(c+=b._parts.protocol+"://"),b._parts.hostname&&(b.is("punycode")&&a?(c+=a.toUnicode(b._parts.hostname),b._parts.port&&(c+=":"+b._parts.port)):c+=b.host()),b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(c+="/"),c+=b.path(!0),b._parts.query){for(var d="",f=0,g=b._parts.query.split("&"),h=g.length;f<h;f++){var i=(g[f]||"").split("=");d+="&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==i[1]&&(d+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=e.decodeQuery(b.hash(),!0)},o.absoluteTo=function(a){var b,c,d,f=this.clone(),g=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a instanceof e||(a=new e(a)),f._parts.protocol||(f._parts.protocol=a._parts.protocol),this._parts.hostname)return f;for(c=0;d=g[c];c++)f._parts[d]=a._parts[d];return f._parts.path?".."===f._parts.path.substring(-2)&&(f._parts.path+="/"):(f._parts.path=a._parts.path,f._parts.query||(f._parts.query=a._parts.query)),"/"!==f.path().charAt(0)&&(b=a.directory(),f._parts.path=(b?b+"/":"")+f._parts.path,f.normalizePath()),f.build(),f},o.relativeTo=function(a){var b,c,d,f,g,h=this.clone().normalize();if(h._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a=new e(a).normalize(),b=h._parts,c=a._parts,f=h.path(),g=a.path(),"/"!==f.charAt(0))throw new Error("URI is already relative");if("/"!==g.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(b.protocol===c.protocol&&(b.protocol=null),b.username!==c.username||b.password!==c.password)return h.build();if(null!==b.protocol||null!==b.username||null!==b.password)return h.build();if(b.hostname!==c.hostname||b.port!==c.port)return h.build();if(b.hostname=null,b.port=null,f===g)return b.path="",h.build();if(d=e.commonPath(h.path(),a.path()),!d)return h.build();var i=c.path.substring(d.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return b.path=i+b.path.substring(d.length),h.build()},o.equals=function(a){var b,c,d,f=this.clone(),g=new e(a),i={},j={},l={};if(f.normalize(),g.normalize(),f.toString()===g.toString())return!0;if(b=f.query(),c=g.query(),f.query(""),g.query(""),f.toString()!==g.toString())return!1;if(b.length!==c.length)return!1;i=e.parseQuery(b,this._parts.escapeQuerySpace),j=e.parseQuery(c,this._parts.escapeQuerySpace);for(d in i)if(p.call(i,d)){if(h(i[d])){if(!k(i[d],j[d]))return!1}else if(i[d]!==j[d])return!1;l[d]=!0}for(d in j)if(p.call(j,d)&&!l[d])return!1;return!0},o.duplicateQueryParameters=function(a){return this._parts.duplicateQueryParameters=!!a,this},o.escapeQuerySpace=function(a){return this._parts.escapeQuerySpace=!!a,this},e});var W=W||{};W.BI=W.BI||{},W.BI.ErrorSeverity={RECOVERABLE:10,WARNING:20,ERROR:30,FATAL:40},W.BI.Categories={EDITOR:1,VIEWER:2,TIMEOUTS:3,SERVER:4},W.BI.initialLoadIsReported=!1,W.BI.Logger=function(){function a(){return(new Date).getTime()}function b(){return""+a()+f++}function c(){var a=window.performance&&window.performance.now?window.performance.now():-1;return Math.round(a)}function d(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)a[d]=c[d]}return a}function e(a){function b(a,b){var c={src:{type:"number"},evid:{type:"number"}},e=d({},h,p.defaultEventArgs,a),f=p.schemaValidators||[],i=!(f.length>0)||f.some(function(a){return a.match(e)&&(a.execute(e)||!0)});if(!i)throw new Error("No validator accepted the event");g(e,["evid"],c)&&o(e,b)}function c(a,b){var c=["evid","cat","iss","sev","errc","ver"],e={src:{type:"number"},evid:{type:"number",values:[k.ERROR]},cat:{type:"number",values:[W.BI.Categories.EDITOR,W.BI.Categories.VIEWER,W.BI.Categories.TIMEOUTS,W.BI.Categories.SERVER]},iss:{type:"number"},sev:{type:"number",values:[W.BI.ErrorSeverity.RECOVERABLE,W.BI.ErrorSeverity.WARNING,W.BI.ErrorSeverity.ERROR,W.BI.ErrorSeverity.FATAL]},errc:{type:"number"},httpc:{type:"number"},ver:{type:"string",maxLength:16},errscp:{type:"string",subStr:64},trgt:{type:"string",subStr:64},gsi:{type:"string",length:36},ts:{type:"number"},uid:{type:"number"},ut:{type:"string",maxLength:16},did:{type:"string",maxLength:36},cid:{type:"string",length:36},lng:{type:"string",maxLength:5},dsc:{type:"string",subStr:512}},f=d({},i,p.defaultErrorArgs,a,{evid:k.ERROR});g(f,c,e)&&o(f,b)}function e(a,c,e){var f={view:{type:"string"}},h=d({},c,{evid:k.ON_READY,view:a});g(h,["view"],f)&&b(h,e)}function f(a,c,e){var f={view:{type:"string"}},h=d({},c,{evid:k.ROUTE_CHANGE,view:a});g(h,["view"],f)&&b(h,e)}function g(a,b,c){var d=b.slice(0);for(var e in a){var f=c[e]||{};if(a[e]=r.parse(a[e],f),!r.valid(a[e],f))return void p.error("Bad event param (key: "+e+", value: "+a[e]+")");var g;(g=d.indexOf(e))>-1&&d.splice(g,1)}return!(d.length>0)||(p.error("Missing required params: "+d.join(", ")),!1)}function l(a,b){var c=a.match(/\?./)?"&":"?";return a.replace(/\?$/,"")+c+Object.keys(b).filter(function(a){return!p.removeUndefinedValues||void 0!==b[a]}).map(function(a){return[encodeURIComponent(a),"=",encodeURIComponent(b[a])].join("")}).join("&")}function m(a,b,c){var d=function(){c("pixel")},e=b||new Image(0,0);e.onload=d,e.onerror=d,e.src=a}function n(a,b){return!(!window.navigator||!window.navigator.sendBeacon)&&(window.navigator.sendBeacon(a)&&setTimeout(function(){b("beacon")},0))}function o(a,b){var c=a.adapter||p.adapter;delete a.adapter;var d=l(p.biUrl+c,a),e=b||function(){};W.BI.DryRun?setTimeout(e,0):p.useBeacon&&n(d,e)||m(d,p.image,e),q.url=d,q.callback=b}var p,q={url:void 0,assertEmpty:function(){if(void 0!==this.url)throw"last bi is not empty!!!"},resolve:function(){this.callback()},clear:function(){this.url=void 0}},r=new W.BI.FieldParsers(a.injector);return a.hostName&&(a.biUrl="//"+a.hostName+"/"),p=d({},j,a),{log:b,reportOnReady:e,reportRouteChange:f,error:c,getLastBiUrl:function(){return q}}}var f=0,g=a(),h={_:b,ms:c},i={_:b,ts:function(){return a()-g},cat:W.BI.Categories.VIEWER,sev:W.BI.ErrorSeverity.WARNING,iss:1,ver:"1"},j={hostName:"frog.wix.com",defaultEventArgs:{},defaultErrorArgs:{},biUrl:"//frog.wix.com/",schemaValidators:[],adapter:"",error:function(a){throw a}},k={ERROR:10,ON_READY:302,ROUTE_CHANGE:300};return e}();var W=W||{};W.BI=W.BI||{},W.BI.DomEventHandler=function(){function _extend(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)a[d]=c[d]}return a}function eventHandler(biLogger,args){function _safeGetEventParams(a,b,c){var d;return b&&b[a]?d=b[a]:(_options.error("Invalid event name"),d={}),_extend({},d,c)}function _log(a,b,c){var d=_safeGetEventParams(a,_options.eventMap,b);_biLogger.log(d,c)}function _error(a,b,c){var d=_safeGetEventParams(a,_options.errorMap,b);_biLogger.error(d,c)}function _getAttr(a,b){for(var c=0;c<a.attributes.length;c++)if(a.attributes[c].name===b)return a.attributes[c].value}function _handleTriggeredBiEvent(event){var eventName=_getAttr(event.target,_wixBiAttributeSelector);if(eventName){var eventArgsStr=_getAttr(event.target,_wixBiArgsAttribute),eventArgs=eventArgsStr?eval("eventArgs = "+eventArgsStr):{};_log(eventName,eventArgs)}}function _bind(){document.body.addEventListener("click",_handleTriggeredBiEvent)}function _unbind(){document.body.removeEventListener("click",_handleTriggeredBiEvent)}var _options,_biLogger=biLogger;return _options=_extend({},_initOptions,args),{bind:_bind,unbind:_unbind,log:_log,error:_error}}var _wixBiAttributeSelector="wix-bi",_wixBiArgsAttribute="wix-bi-args",_initOptions={eventMap:{},errorMap:{},error:function(a){throw a}};return eventHandler}();var W=W||{};W.BI=W.BI||{},W.BI.FieldParsers=function(a){var b={length:function(a,b){return a&&void 0!==a.length&&a.length===b},maxLength:function(a,b){return a&&void 0!==a.length&&a.length<=b},values:function(a,b){return b&&b.indexOf(a)!==-1},type:function(a,b){return a&&typeof a===b}},c={subStr:function(a,b){return a&&a.substr?a.substr(0,Math.min(a.length,b)):a}};this.valid=function(a,c){for(var d in c)if(b[d]&&!b[d](a,c[d]))return!1;return!0},this.parse=function(b,d){"function"==typeof b&&(b=a?a.invoke(b):b());for(var e in d)b=c[e]?c[e](b,d[e]):b;return b}},function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("fedops-logger",[],b):"object"==typeof exports?exports["fedops-logger"]=b():a["fedops-logger"]=b()}("undefined"!=typeof self?self:this,function(){
return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};if(b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b.p="undefined"!=typeof window&&window.__STATICS_BASE_URL__||b.p,"undefined"!=typeof document){var d=document.getElementById("fedops-logger.stylable.bundle.css");d||(d=document.createElement("style"),d.id="fedops-logger.stylable.bundle.css",document.head.appendChild(d)),d.textContent=""}return b(b.s=28)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(2),i=d(h),j=function(a){function b(a,c){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{src:72,evid:a,session_id:c,_:(new Date).getTime()}))}return g(b,a),b}(i.default);b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(8),f=d(e);b.default={getNavigation:function(){return window&&window.performance?window.performance.navigation:{}},getResources:function(){var a=[];try{return window&&window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("resource")||a}catch(b){return a}},getTiming:function(){return window&&window.performance?window.performance.timing:{}},now:function(){return window&&window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},mark:function(a){f.default.isFedopsDev()&&window&&window.performance&&window.performance.mark&&window.performance.mark(a)},measure:function(a,b,c){f.default.isFedopsDev()&&window&&window.performance&&window.performance.measure&&window.performance.measure(a,b,c)}}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;d(this,a),this.data=b}return e(a,[{key:"isActive",value:function(){return!0}},{key:"export",value:function(){return this.data}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}Object.defineProperty(b,"__esModule",{value:!0}),b.default={mapToQuery:d,generateGuid:e}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(16),h=d(g),i=c(17),j=d(i),k=c(5),l=d(k),m=c(9),n=d(m),o=c(1),p=d(o),q=c(18),r=d(q),s=function(){function a(b,c,d,f){var g=f.sessionId,i=f.errorHandlerToggle,j=f.disableAutoLoadFinish;e(this,a),this.appName=b,this.appVersion=c,this.reporter=d,this.params={sessionId:g},this.errorHandlerToggle=i,this.disableAutoLoadFinish=j,this.dataSource=new h.default({appName:b}),i&&window.fedopsLoggerErrorHandler.subscribeListener(b,this.reportError.bind(this))}return f(a,[{key:"reportNetworkAnalysis",value:function(){var a=this,b=p.default.getResources();setTimeout(function(){try{var c=new r.default(a.sessionId),d=c.performNetworkAnalysis(b);if(!d)return;var e=a.dataSource.clone().addItem(c).addItem(d);a._report(e)}catch(a){console.error("[fedops] Failed to report resource metrics",a)}},1e3)}},{key:"reportError",value:function(a,b,c){var d=void 0;d=this._appLoadedCalled?Object.keys(this._outgoingInteractions)[0]:"[APP LOAD]";var e=this.dataSource.clone().addItem({interactionName:d}).addItem({errorType:b}).addItem({errorInfo:c}).addItem(new n.default(this.sessionId));d&&this._report(e)}},{key:"_report",value:function(a){return this.reporter.report(a.mergeItems())}},{key:"getAppName",value:function(){return this.appName}},{key:"getAppVersion",value:function(){return this.appVersion}},{key:"getReporter",value:function(){return this.reporter}},{key:"getParam",value:function(a){return this.params[a]}},{key:"_isDisableAutoLoadFinish",value:function(){return this.disableAutoLoadFinish}},{key:"appLoadingPhase",value:function(a){var b=this.dataSource.clone().addItem({name:a}).addItem(new j.default(this.sessionId)).addItem(new l.default);return this._report(b)}},{key:"sessionId",get:function(){return this.getParam("sessionId")}}]),a}();b.default=s},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(6),j=d(i),k=c(2),l=d(k),m=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{duration:Math.floor(j.default.appLoadTime(a))}));return c.appName=a,c}return g(b,a),h(b,[{key:"setFirstRequestDuration",value:function(){return this.data.frd=Math.floor(j.default.firstRequestDuration(this.appName)),this}}]),b}(l.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return h.default.getStartLoadTime(a)||0}function f(){return j.default.now()}Object.defineProperty(b,"__esModule",{value:!0});var g=c(7),h=d(g),i=c(1),j=d(i);b.default={appLoadTime:function(a){return f()-e(a)},loadStarted:function(a){h.default.setStartLoadTime(a,j.default.now())},firstRequestDuration:function(a){return e(a)}}},function(a,b,c){"use strict";function d(a){return window.fedops.apps[a]}Object.defineProperty(b,"__esModule",{value:!0}),b.default={init:function(a){window.fedops.apps[a]=window.fedops.apps[a]||{}},getStartLoadTime:function(a){var b=d(a);return b?b.startLoadTime:null},setStartLoadTime:function(a,b){return d(a).startLoadTime=b}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){return"undefined"!=typeof window&&window.location};b.default={getHost:function(){return d()&&window.location.host},isFedopsDev:function(){var a=(d()||{}).search||"";return a.indexOf("fedops=dev")>-1}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.EVID=void 0;var h=c(0),i=d(h),j=b.EVID=17,k=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,a))}return g(b,a),b}(i.default);b.default=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.baseUrl,d=void 0===c?null:c,e=b.appId,f=void 0===e?null:e,h=b.isWidgetLogger,i=void 0!==h&&h,j=b.errorHandlerToggle,k=void 0!==j&&j,l=b.disableAutoLoadFinish,m=void 0!==l&&l,n=b.swallowExceptions,o=void 0!==n&&n,p=b.interactionTimeout,q=void 0===p?null:p,r=b.timeoutHook,s=void 0===r?null:r,t=b.startHook,u=void 0===t?null:t,v=b.endHook,w=void 0===v?null:v,x=b.networkAnalysis,y=void 0!==x&&x,z="undefined"!=typeof window?"1.0.0-SNAPSHOT":null;return(new g.default).setAppName(a).setAppVersion(z).setBaseUrl(d).setAppId(f).setErrorHandlerToggle(k).setSwallowExceptions(o).setWidgetLogger(i).setInteractionTimeout(q).setTimeoutHook(s).setStartHook(u).setEndHook(w).setDisableAutoLoadFinish(m).setNetworkAnalysis(y).build()}Object.defineProperty(b,"__esModule",{value:!0}),b.create=e;var f=c(11),g=d(f)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){var a="undefined"!=typeof window&&window.fedops&&window.fedops.sessionId;return a=a||l.default.getItem(u.SESSION_ID_STORAGE_KEY),a=a||j.default.generateGuid(),l.default.setItem(u.SESSION_ID_STORAGE_KEY,a),a}function g(a){v=a}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.setFactory=g;var i=c(3),j=d(i),k=c(12),l=d(k),m=c(13),n=d(m),o=c(15),p=d(o),q=c(22),r=d(q),s=c(24),t=d(s),u=c(26),v=n.default,w=function(){function a(){e(this,a)}return h(a,[{key:"setAppName",value:function(a){return this.appName=a,this}},{key:"setAppVersion",value:function(a){return this.appVersion=a,this}},{key:"setErrorHandlerToggle",value:function(a){return this.errorHandlerToggle=a,this}},{key:"setSwallowExceptions",value:function(a){return this.swallowExceptions=a,this}},{key:"setAppId",value:function(a){return this.appId=a,this}},{key:"setBaseUrl",value:function(a){return this.baseUrl=a,this}},{key:"setWidgetLogger",value:function(a){return this.isWidgetLogger=a,this}},{key:"setInteractionTimeout",value:function(a){return this.interactionTimeout=a,this}},{key:"setTimeoutHook",value:function(a){return this.timeoutHook=a,this}},{key:"setStartHook",value:function(a){return this.startHook=a,this}},{key:"setEndHook",value:function(a){return this.endHook=a,this}},{key:"setDisableAutoLoadFinish",value:function(a){return this.disableAutoLoadFinish=a,this}},{key:"setNetworkAnalysis",value:function(){return this}},{key:"build",value:function(){if(!this.appName)return null;this.appVersion||(this.appVersion=u.DEFAULT_APP_VERSION);var a=new v(this.baseUrl||u.BI_BASE_URL),b=this.errorHandlerToggle,c=this.swallowExceptions,d=this.interactionTimeout,e=this.timeoutHook,g=this.startHook,h=this.endHook,i=this.disableAutoLoadFinish;b&&(window.fedopsLoggerErrorHandler=window.fedopsLoggerErrorHandler||new t.default({swallowExceptions:c}));var j=null;return j=this.isWidgetLogger?new r.default(this.appName,this.appVersion,a,{sessionId:f(),errorHandlerToggle:b,swallowExceptions:c,disableAutoLoadFinish:i}):new p.default(this.appName,this.appVersion,a,{sessionId:f(),errorHandlerToggle:b,swallowExceptions:c,disableAutoLoadFinish:i,interactionTimeout:d,timeoutHook:e,startHook:g,endHook:h})}}]),a}();b.default=w},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={getItem:function(a){try{return window.localStorage.getItem(a)}catch(a){}},setItem:function(a,b){try{return window.localStorage.setItem(a,b)}catch(a){}}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(14),h=d(g),i=c(3),j=d(i),k=function(){function a(b){e(this,a),this.baseUrl=b}return f(a,[{key:"getBaseUrl",value:function(){return this.baseUrl}},{key:"report",value:function(a){return a?h.default.fetch(this.baseUrl+"?"+j.default.mapToQuery(a)):null}}]),a}();b.default=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={fetch:function(a){return(new window.Image).src=a}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(4),j=d(i),k=c(19),l=d(k),m=c(5),n=d(m),o=c(20),p=d(o),q=c(21),r=d(q),s=c(9),t=d(s),u=c(1),v=d(u),w=function(a,b){if(a)return a(b)},x=function(a){function b(a,c,d,g){var h=g.sessionId,i=g.errorHandlerToggle,j=g.disableAutoLoadFinish,k=g.interactionTimeout,l=g.timeoutHook,m=g.startHook,n=g.endHook;e(this,b);var o=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,{sessionId:h,errorHandlerToggle:i,disableAutoLoadFinish:j}));return o._outgoingInteractions={},o.interactionTimeout=k,o.timeoutHook=l,o.startHook=m,o.endHook=n,o}return g(b,a),h(b,[{key:"appLoaded",value:function(){if(!this._appLoadedCalled){window&&window.fedops&&"function"==typeof window.fedops.clearLoadTimeout&&window.fedops.clearLoadTimeout();var a=this.dataSource.clone().addItem(new l.default(this.sessionId)).addItem(new n.default(this.appName).setFirstRequestDuration());return this._appLoadedCalled=!0,v.default.mark("[fedops] app-loaded"),v.default.measure("[fedops] app-loaded","navigationStart","[fedops] app-loaded"),this.reportNetworkAnalysis(),this._report(a)}}},{key:"interactionStarted",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.interactionTimeout,e=c.startHook,f=c.timeoutHook;v.default.mark(a+" started");var g=function(){if(d||b.interactionTimeout)return setTimeout(function(){var c=b.dataSource.clone().addItem({interactionName:a}).addItem({errorType:"timeout"}).addItem(new t.default(b.sessionId));b._report(c),w(f||b.timeoutHook,{name:a,timeout:d||b.interactionTimeout})},d||b.interactionTimeout)},h=this.dataSource.clone().addItem({name:a}).addItem(new p.default(this.sessionId));this._outgoingInteractions[a]={timestamp:v.default.now(),timeout:d||this.interactionTimeout},this._report(h),w(e||this.startHook,{name:a});var i=g();return{timeoutId:i}}},{key:"interactionEnded",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.timeoutId,d=b.endHook;v.default.mark(a+" ended"),v.default.measure(a+" duration",a+" started",a+" ended"),c&&clearTimeout(c);var e=this._outgoingInteractions[a]?Math.floor(v.default.now()-this._outgoingInteractions[a].timestamp):"";w(d||this.endHook,{name:a,duration:e,timeout:this._outgoingInteractions[a]&&this._outgoingInteractions[a].timeout});var f=this.dataSource.clone().addItem({name:a}).addItem({duration:e}).addItem(new r.default(this.sessionId));delete this._outgoingInteractions[a],this._report(f)}},{key:"isDisableAutoLoadFinish",value:function(){return this._isDisableAutoLoadFinish()}}]),b}(j.default);b.default=x},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(2),h=d(g),i=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e(this,a),this.items=[],c&&("undefined"==typeof c.length?[c]:c).forEach(function(a){return b.addItem(a)})}return f(a,[{key:"clone",value:function(){return new a(this.items.slice())}},{key:"addItem",value:function(a){return this.items.push(a instanceof h.default?a:new h.default(a)),this}},{key:"mergeItems",value:function(){for(var a={},b=0;b<this.items.length;b++){var c=this.items[b];if(!c.isActive()){a=null;break}var d=c.export();for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a}}]),a}();b.default=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(0),i=d(h),j=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,13,a))}return g(b,a),b}(i.default);b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){var c=D[b];return a.filter(function(a){return b===a.initiatorType&&(!c||c(a))})}function i(a){return a.reduce(function(a,b){return a+b.transferSize},0)}function j(a){if(0===a.length)return 0;var b=a.reduce(function(a,b){return E(b)>=E(a)?b:a});return E(b)}function k(a){if(0===a.length)return 0;var b={startTime:1/0,responseEnd:0};return a.forEach(function(a){b.startTime>a.startTime&&(b.startTime=a.startTime),b.responseEnd<a.responseEnd&&(b.responseEnd=a.responseEnd)}),b.responseEnd-b.startTime}function l(a){var b=a.length;if(0===b)return 0;var c=a.filter(p).length;return Math.round(c/b*100)}function m(a){if(0===a.length)return 0;var b=a.filter(function(a){return 0===a.transferSize});return Math.round(b.length/a.length*100)}function n(a){if(0===a.length)return 0;var b=!1,c=Math.round(a.filter(function(a){return b=b||"nextHopProtocol"in a,"h2"===a.nextHopProtocol}).length/a.length*100);return b?c:NaN}function o(a){return!a.name.match(/http(s)?:\/\/frog.wix.com\//)}function p(a){return q(a.name)&&0===a.transferSize&&0===a.requestStart}function q(a){var b=z.default.getHost();return b&&a.indexOf(b)===-1}function r(a){return Object.keys(a).reduce(function(b,c){var d=parseInt(a[c]);return isNaN(d)||"number"!=typeof d||(b[c]=d),b},{})}function s(a){var b=a.filter(function(a){return!p(a)});return Object.keys(C).reduce(function(c,d){var e=h(a,d),f=h(b,d),g=C[d];return c[g.count]=f.length,c[g.duration]=k(f),c[g.total]=i(f),c[g.unsupported]=l(e),c[g.http2]=n(e),g.longest&&(c[g.longest]=j(f)),g.cached&&(c[g.cached]=m(f)),c},{})}function t(a){return{url:a.name,downloadDuration:a.responseEnd-a.startTime,bytesTransferred:a.transferSize,isHTTP2:"h2"===a.nextHopProtocol}}function u(a){var b=a.reduce(function(a,b){return p(b)?a.unsupported.push(b):a.supported.push(b),a},{supported:[],unsupported:[]});return Object.keys(C).reduce(function(a,c){return a[c]={},a[c].supported=h(b.supported,c).map(function(a){return t(a)}),a[c].unsupported=h(b.unsupported,c).map(function(a){return t(a)}),a},{})}Object.defineProperty(b,"__esModule",{value:!0});var v=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),w=c(0),x=d(w),y=c(8),z=d(y),A=c(1),B=d(A),C={xmlhttprequest:{count:"countXhr",unsupported:"unsprtXhr",duration:"timeXhr",total:"sizeXhr",longest:"longXhr",http2:"h2Xhr"},script:{count:"countJs",unsupported:"unsprtJs",duration:"timeJs",total:"sizeJs",cached:"cachedJs",http2:"h2Js"},link:{count:"countCss",unsupported:"unsprtCss",duration:"timeCss",total:"sizeCss",cached:"cachedCss",http2:"h2Css"},img:{count:"countImg",unsupported:"unsprtImg",duration:"timeImg",total:"sizeImg",cached:"cachedImages",http2:"h2Images"}},D={link:function(a){return/(.\.css$|.\.css?.)/g.test(a.name)}},E=function(a){return a.responseEnd-a.startTime},F=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,18,a))}return g(b,a),v(b,[{key:"performNetworkAnalysis",value:function(a){if(0===a.length)return null;var b=B.default.now(),c=a.filter(o),d=s(c);d.overhead=B.default.now()-b;var e=r(d);if(console.debug&&z.default.isFedopsDev()){var f=u(c);console.debug("[fedops network analysis] [bytes analysis]\n"+JSON.stringify(e,null,4)),console.debug("[fedops network analysis] [resources breakdown]\n",f)}return e}}]),b}(x.default);b.default=F},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(0),i=d(h),j=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,11,a))}return g(b,a),b}(i.default);b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.INTERACTION_START_EVID=void 0;var h=c(0),i=d(h),j=b.INTERACTION_START_EVID=15,k=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,a))}return g(b,a),b}(i.default);b.default=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.INTERACTION_END_EVID=void 0;var h=c(0),i=d(h),j=b.INTERACTION_END_EVID=16,k=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,j,a))}return g(b,a),b}(i.default);b.default=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(4),j=d(i),k=c(23),l=d(k),m=c(6),n=d(m),o=c(7),p=d(o),q=function(a){function b(a,c,d,g){var h=g.sessionId,i=g.disableAutoLoadFinish;e(this,b);var j=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,{sessionId:h,disableAutoLoadFinish:i}));return p.default.init(j.appName),j}return g(b,a),h(b,[{key:"appLoadStarted",value:function(){n.default.loadStarted(this.appName);var a=this.dataSource.clone().addItem(new l.default(this.sessionId));return this._report(a)}},{key:"isDisableAutoLoadFinish",value:function(){return this._isDisableAutoLoadFinish()}}]),b}(j.default);b.default=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(0),i=d(h),j=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,14,a))}return g(b,a),b}(i.default);b.default=j},function(a,b,c){"use strict";(function(a){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:{},f=function(){function a(b){var d=b.swallowExceptions;c(this,a),this.swallowExceptions=d,this.listeners={},this.instrumentAjax(),this.instrumentSetTimeout(),this.instrumentSetInterval(),this.instrumentAddEventListener(),this.instrumentFetch(),this.instrumentPromise(),this.instrumentGloballyUnhandledError()}return d(a,[{key:"subscribeListener",value:function(a,b){this.listeners[a]=b}},{key:"removeListener",value:function(a){delete this.listeners[a]}},{key:"instrumentAjax",value:function(){var a=this;if("XMLHttpRequest"in e){var b=XMLHttpRequest.prototype;this._wrap(b,"open",function(a){return function(b,c){return this.__fedops_xhr={method:b,url:c,status_code:null},a.apply(this,arguments)}},"xhr"),this._wrap(b,"send",function(b){return function(){function c(){if(1===d.readyState||4===d.readyState){try{d.__fedops_xhr.status_code=d.status}catch(a){}a._isErrorStatusCode(d.__fedops_xhr.status_code)&&a._reportError(d.__fedops_xhr,"xhr",d.__fedops_xhr.status_code)}}var d=this;return a._wrap(this,"onload",function(a){return function(){a&&a.apply(this,arguments)}},"xhr"),a._wrap(this,"onerror",function(a){return function(){a&&a.apply(this,arguments)}},"xhr"),a._wrap(this,"onprogress",function(a){return function(){a&&a.apply(this,arguments)}},"xhr"),"onreadystatechange"in d&&"function"==typeof d.onreadystatechange?a._wrap(d,"onreadystatechange",function(a){return function(){return c(),a.apply(this,arguments)}}):d.onreadystatechange=c,b.apply(this,arguments)}},"xhr")}}},{key:"instrumentSetTimeout",value:function(){var a=this;this._wrap(e,"setTimeout",function(b){return function(c){for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b.call.apply(b,[this,a._wrapCallback(c,"setTimeout")].concat(e))}})}},{key:"instrumentSetInterval",value:function(){var a=this;this._wrap(e,"setInterval",function(b){return function(c){for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b.call.apply(b,[this,a._wrapCallback(c,"setInterval")].concat(e))}})}},{key:"instrumentAddEventListener",value:function(){function a(a){var c=e[a]&&e[a].prototype;c&&Object.prototype.hasOwnProperty.call(c,"addEventListener")&&(b._wrap(c,"addEventListener",function(a){return function(c,d,e,f){var g=b._wrapCallback(d,"addEventListener");return d&&(d.__fedopsWrapper__=g),a.call(this,c,g,e,f)}}),b._wrap(c,"removeEventListener",function(a){return function(b,c,d,e){return c=c&&(c.__fedopsWrapper__||c),a.call(this,b,c,d,e)}}))}var b=this,c=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];
c.forEach(function(b){return a(b)})}},{key:"instrumentRequestAnimationFrame",value:function(){}},{key:"instrumentFetch",value:function(){var a=this;this._wrap(e,"fetch",function(b){return function(c,d){return b.apply(this,arguments).then(function(b){var e=b.status;if(a._isErrorStatusCode(e)){var f={url:c,method:d?d.method:"GET",status_code:e};a._reportError(f,"fetch",e)}return b})}})}},{key:"instrumentPromise",value:function(){var a=this;e.addEventListener("unhandledrejection",function(b){a._reportError(b,"promise")})}},{key:"instrumentGloballyUnhandledError",value:function(){var a=this;e.addEventListener("error",function(b){a._reportError(b,"windowOnError")})}},{key:"instrumentHistory",value:function(){}},{key:"_wrap",value:function(a,b,c,d){var e=this,f=a[b],g=c(f),h=function(){try{return g.apply(this,arguments)}catch(a){if(e._reportError(a,d),!e.swallowExceptions)throw a}};a[b]=h}},{key:"_wrapCallback",value:function(a,b){var c=this;return function(){try{return a.apply(this,arguments)}catch(a){if(c._reportError(a,b),!c.swallowExceptions)throw a}}}},{key:"_reportError",value:function(a,b,c){var d=this,e=a&&(a.error||a);if(!e.__fedopsHandledError__){var f=Object.keys(this.listeners);f.forEach(function(a){d.listeners[a](e,b,c)}),e.__fedopsHandledError__=!0}}},{key:"_isErrorStatusCode",value:function(a){return a>=400||0===a}}]),a}();b.default=f}).call(b,c(25))},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.BI_BASE_URL="https://frog.wix.com/fed",b.SESSION_ID_STORAGE_KEY="fedops.logger.sessionId",b.DEFAULT_APP_VERSION="0.0.0"},function(a,b,c){"use strict";function d(){window.fedops=window.fedops||{},window.fedops.apps=window.fedops.apps||{}}Object.defineProperty(b,"__esModule",{value:!0}),b.initiateApp=d},function(a,b,c){"use strict";var d=c(27),e=c(10);(0,d.initiateApp)(),window.fedops.logger={create:e.create},window.fedops.widgetLogger={create:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.baseUrl,d=void 0===c?null:c,f=b.appId,g=void 0===f?null:f;return(0,e.create)(a,{baseUrl:d,appId:g,isWidgetLogger:!0})}}}])}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Reflux=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function e(){}var f="function"!=typeof Object.create&&"~";e.prototype._events=void 0,e.prototype.listeners=function(a,b){var c=f?f+a:a,d=this._events&&this._events[c];if(b)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var e=0,g=d.length,h=new Array(g);e<g;e++)h[e]=d[e].fn;return h},e.prototype.emit=function(a,b,c,d,e,g){var h=f?f+a:a;if(!this._events||!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if("function"==typeof k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,e),!0;case 6:return k.fn.call(k.context,b,c,d,e,g),!0}for(j=1,i=new Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;default:if(!i)for(m=1,i=new Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},e.prototype.on=function(a,b,c){var e=new d(b,c||this),g=f?f+a:a;return this._events||(this._events=f?{}:Object.create(null)),this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],e]:this._events[g].push(e):this._events[g]=e,this},e.prototype.once=function(a,b,c){var e=new d(b,c||this,!0),g=f?f+a:a;return this._events||(this._events=f?{}:Object.create(null)),this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],e]:this._events[g].push(e):this._events[g]=e,this},e.prototype.removeListener=function(a,b,c,d){var e=f?f+a:a;if(!this._events||!this._events[e])return this;var g=this._events[e],h=[];if(b)if(g.fn)(g.fn!==b||d&&!g.once||c&&g.context!==c)&&h.push(g);else for(var i=0,j=g.length;i<j;i++)(g[i].fn!==b||d&&!g[i].once||c&&g[i].context!==c)&&h.push(g[i]);return h.length?this._events[e]=1===h.length?h[0]:h:delete this._events[e],this},e.prototype.removeAllListeners=function(a){return this._events?(a?delete this._events[f?f+a:a]:this._events=f?{}:Object.create(null),this):this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=f,"undefined"!=typeof b&&(b.exports=e)},{}],2:[function(a,b,c){"use strict";b.exports={}},{}],3:[function(a,b,c){"use strict";c.createdStores=[],c.createdActions=[],c.reset=function(){for(;c.createdStores.length;)c.createdStores.pop();for(;c.createdActions.length;)c.createdActions.pop()}},{}],4:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./joins").instanceJoinCreator,f=function(a){for(var b,c=0,d={};c<(a.children||[]).length;++c)b=a.children[c],a[b]&&(d[b]=a[b]);return d},g=function a(b){var c={};for(var e in b){var g=b[e],h=f(g),i=a(h);c[e]=g;for(var j in i){var k=i[j];c[e+d.capitalize(j)]=k}}return c};b.exports={hasListener:function(a){for(var b,c,d,e=0;e<(this.subscriptions||[]).length;++e)for(d=[].concat(this.subscriptions[e].listenable),b=0;b<d.length;b++)if(c=d[b],c===a||c.hasListener&&c.hasListener(a))return!0;return!1},listenToMany:function(a){var b=g(a);for(var c in b){var e=d.callbackName(c),f=this[e]?e:this[c]?c:void 0;f&&this.listenTo(b[c],f,this[e+"Default"]||this[f+"Default"]||f)}},validateListening:function(a){return a===this?"Listener is not able to listen to itself":d.isFunction(a.listen)?a.hasListener&&a.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:a+" is missing a listen method"},listenTo:function(a,b,c){var e,f,g,h=this.subscriptions=this.subscriptions||[];return d.throwIf(this.validateListening(a)),this.fetchInitialState(a,c),e=a.listen(this[b]||b,this),f=function(){var a=h.indexOf(g);d.throwIf(a===-1,"Tried to remove listen already gone from subscriptions list!"),h.splice(a,1),e()},g={stop:f,listenable:a},h.push(g),g},stopListeningTo:function(a){for(var b,c=0,e=this.subscriptions||[];c<e.length;c++)if(b=e[c],b.listenable===a)return b.stop(),d.throwIf(e.indexOf(b)!==-1,"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var a,b=this.subscriptions||[];a=b.length;)b[0].stop(),d.throwIf(b.length!==a-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(a,b){b=b&&this[b]||b;var c=this;if(d.isFunction(b)&&d.isFunction(a.getInitialState)){var e=a.getInitialState();e&&d.isFunction(e.then)?e.then(function(){b.apply(c,arguments)}):b.call(this,e)}},joinTrailing:e("last"),joinLeading:e("first"),joinConcat:e("all"),joinStrict:e("strict")}},{"./joins":11,"./utils":13}],5:[function(a,b,c){"use strict";var d=a("./utils");b.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(a,b){b=b||this;var c=function(c){e||a.apply(b,c)},d=this,e=!1;return this.emitter.addListener(this.eventLabel,c),function(){e=!0,d.emitter.removeListener(d.eventLabel,c)}},promise:function(a){var b=this,c=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0;if(!c)throw new Error('Publisher must have "completed" and "failed" child publishers');a.then(function(a){return b.completed(a)},function(a){return b.failed(a)})},listenAndPromise:function(a,b){var c=this;b=b||this,this.willCallPromise=(this.willCallPromise||0)+1;var d=this.listen(function(){if(!a)throw new Error("Expected a function returning a promise but got "+a);var d=arguments,e=a.apply(b,d);return c.promise.call(c,e)},b);return function(){c.willCallPromise--,d.call(c)}},trigger:function(){var a=arguments,b=this.preEmit.apply(this,a);a=void 0===b?a:d.isArguments(b)?b:[].concat(b),this.shouldEmit.apply(this,a)&&this.emitter.emit(this.eventLabel,a)},triggerAsync:function(){var a=arguments,b=this;d.nextTick(function(){b.trigger.apply(b,a)})},triggerPromise:function(){var a=this,b=arguments,c=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,e=d.createPromise(function(e,f){if(a.willCallPromise)return void d.nextTick(function(){var c=a.promise;a.promise=function(b){return b.then(e,f),a.promise=c,a.promise.apply(a,arguments)},a.trigger.apply(a,b)});if(c)var g=a.completed.listen(function(a){g(),h(),e(a)}),h=a.failed.listen(function(a){g(),h(),f(a)});a.triggerAsync.apply(a,b),c||e()});return e}}},{"./utils":13}],6:[function(a,b,c){"use strict";b.exports={}},{}],7:[function(a,b,c){"use strict";b.exports=function(a,b){for(var c in b)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var d=Object.getOwnPropertyDescriptor(b,c);if(!d.value||"function"!=typeof d.value||!b.hasOwnProperty(c))continue;a[c]=b[c].bind(a)}else{var e=b[c];if("function"!=typeof e||!b.hasOwnProperty(c))continue;a[c]=e.bind(a)}return a}},{}],8:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./ActionMethods"),f=a("./PublisherMethods"),g=a("./Keep"),h={preEmit:1,shouldEmit:1},i=function a(b){b=b||{},d.isObject(b)||(b={actionName:b});for(var c in e)if(!h[c]&&f[c])throw new Error("Cannot override API method "+c+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var i in b)if(!h[i]&&f[i])throw new Error("Cannot override API method "+i+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");b.children=b.children||[],b.asyncResult&&(b.children=b.children.concat(["completed","failed"]));for(var j=0,k={};j<b.children.length;j++){var l=b.children[j];k[l]=a(l)}var m=d.extend({eventLabel:"action",emitter:new d.EventEmitter,_isAction:!0},f,e,b),n=function a(){var b=a.sync?"trigger":d.environment.hasPromise?"triggerPromise":"triggerAsync";return a[b].apply(a,arguments)};return d.extend(n,k,m),g.createdActions.push(n),n};b.exports=i},{"./ActionMethods":2,"./Keep":3,"./PublisherMethods":5,"./utils":13}],9:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./Keep"),f=a("./mixer"),g=a("./bindMethods"),h={preEmit:1,shouldEmit:1};b.exports=function(b){function c(){var a,c=0;if(this.subscriptions=[],this.emitter=new d.EventEmitter,this.eventLabel="change",g(this,b),this.init&&d.isFunction(this.init)&&this.init(),this.listenables)for(a=[].concat(this.listenables);c<a.length;c++)this.listenToMany(a[c])}var i=a("./StoreMethods"),j=a("./PublisherMethods"),k=a("./ListenerMethods");b=b||{};for(var l in i)if(!h[l]&&(j[l]||k[l]))throw new Error("Cannot override API method "+l+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var m in b)if(!h[m]&&(j[m]||k[m]))throw new Error("Cannot override API method "+m+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");b=f(b),d.extend(c.prototype,k,j,i,b);var n=new c;return e.createdStores.push(n),n}},{"./Keep":3,"./ListenerMethods":4,"./PublisherMethods":5,"./StoreMethods":6,"./bindMethods":7,"./mixer":12,"./utils":13}],10:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={version:{"reflux-core":"0.2.1"}};d.ActionMethods=a("./ActionMethods"),d.ListenerMethods=a("./ListenerMethods"),d.PublisherMethods=a("./PublisherMethods"),d.StoreMethods=a("./StoreMethods"),d.createAction=a("./createAction"),d.createStore=a("./createStore");var e=a("./joins").staticJoinCreator;d.joinTrailing=d.all=e("last"),d.joinLeading=e("first"),d.joinStrict=e("strict"),d.joinConcat=e("all");var f=d.utils=a("./utils");d.EventEmitter=f.EventEmitter,d.Promise=f.Promise,d.createActions=function(){var a=function(a,b){Object.keys(a).forEach(function(c){var e=a[c];b[c]=d.createAction(e)})};return function(b){var c={};return b instanceof Array?b.forEach(function(b){f.isObject(b)?a(b,c):c[b]=d.createAction(b)}):a(b,c),c}}(),d.setEventEmitter=function(a){d.EventEmitter=f.EventEmitter=a},d.setPromise=function(a){d.Promise=f.Promise=a},d.setPromiseFactory=function(a){f.createPromise=a},d.nextTick=function(a){f.nextTick=a},d.use=function(a){a(d)},d.__keep=a("./Keep"),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5"),c.default=d,b.exports=c.default},{"./ActionMethods":2,"./Keep":3,"./ListenerMethods":4,"./PublisherMethods":5,"./StoreMethods":6,"./createAction":8,"./createStore":9,"./joins":11,"./utils":13}],11:[function(a,b,c){"use strict";function d(a,b,c){return function(){var d,e=c.subscriptions,f=e?e.indexOf(a):-1;for(i.throwIf(f===-1,"Tried to remove join already gone from subscriptions list!"),d=0;d<b.length;d++)b[d]();e.splice(f,1)}}function e(a){a.listenablesEmitted=new Array(a.numberOfListenables),a.args=new Array(a.numberOfListenables)}function f(a,b){return function(){var c=j.call(arguments);if(b.listenablesEmitted[a])switch(b.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":b.args[a]=c;break;case"all":b.args[a].push(c)}else b.listenablesEmitted[a]=!0,b.args[a]="all"===b.strategy?[c]:c;g(b)}}function g(a){for(var b=0;b<a.numberOfListenables;b++)if(!a.listenablesEmitted[b])return;a.callback.apply(a.listener,a.args),e(a)}var h=a("./createStore"),i=a("./utils"),j=Array.prototype.slice,k={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};c.staticJoinCreator=function(a){return function(){var b=j.call(arguments);return h({init:function(){this[k[a]].apply(this,b.concat("triggerAsync"))}})}},c.instanceJoinCreator=function(a){return function(){i.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var b,c,g=j.call(arguments),h=g.pop(),k=g.length,l={numberOfListenables:k,callback:this[h]||h,listener:this,strategy:a},m=[];for(b=0;b<k;b++)i.throwIf(this.validateListening(g[b]));for(b=0;b<k;b++)m.push(g[b].listen(f(b,l),this));return e(l),c={listenable:g},c.stop=d(c,m,this),this.subscriptions=(this.subscriptions||[]).concat(c),c}}},{"./createStore":9,"./utils":13}],12:[function(a,b,c){"use strict";var d=a("./utils");b.exports=function(a){var b={init:[],preEmit:[],shouldEmit:[]},c=function a(c){var e={};return c.mixins&&c.mixins.forEach(function(b){d.extend(e,a(b))}),d.extend(e,c),Object.keys(b).forEach(function(a){c.hasOwnProperty(a)&&b[a].push(c[a])}),e}(a);return b.init.length>1&&(c.init=function(){var a=arguments;b.init.forEach(function(b){b.apply(this,a)},this)}),b.preEmit.length>1&&(c.preEmit=function(){return b.preEmit.reduce(function(a,b){var c=b.apply(this,a);return void 0===c?a:[c]}.bind(this),arguments)}),b.shouldEmit.length>1&&(c.shouldEmit=function(){var a=arguments;return!b.shouldEmit.some(function(b){return!b.apply(this,a)},this)}),Object.keys(b).forEach(function(a){1===b[a].length&&(c[a]=b[a][0])}),c}},{"./utils":13}],13:[function(require,module,exports){"use strict";function capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)}function callbackName(a,b){return b=b||"on",b+exports.capitalize(a)}function checkEnv(target){var flag=void 0;try{eval(target)&&(flag=!0)}catch(a){flag=!1}environment[callbackName(target,"has")]=flag}function isObject(a){var b=typeof a;return"function"===b||"object"===b&&!!a}function extend(a){if(!isObject(a))return a;for(var b,c,d=1,e=arguments.length;d<e;d++){b=arguments[d];for(c in b)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var f=Object.getOwnPropertyDescriptor(b,c);Object.defineProperty(a,c,f)}else a[c]=b[c]}return a}function isFunction(a){return"function"==typeof a}function object(a,b){for(var c={},d=0;d<a.length;d++)c[a[d]]=b[d];return c}function isArguments(a){return"object"==typeof a&&"callee"in a&&"number"==typeof a.length}function throwIf(a,b){if(a)throw Error(b||a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.capitalize=capitalize,exports.callbackName=callbackName,exports.isObject=isObject,exports.extend=extend,exports.isFunction=isFunction,exports.object=object,exports.isArguments=isArguments,exports.throwIf=throwIf;var environment={};exports.environment=environment,checkEnv("setImmediate"),checkEnv("Promise"),exports.EventEmitter=require("eventemitter3"),environment.hasSetImmediate?exports.nextTick=function(a){setImmediate(a)}:exports.nextTick=function(a){setTimeout(a,0)},environment.hasPromise?(exports.Promise=Promise,exports.createPromise=function(a){return new exports.Promise(a)}):(exports.Promise=null,exports.createPromise=function(){})},{eventemitter3:1}],14:[function(a,b,c){var d=a("reflux-core/lib/utils"),e=a("reflux-core/lib/ListenerMethods");b.exports=d.extend({componentWillUnmount:e.stopListeningToAll},e)},{"reflux-core/lib/ListenerMethods":4,"reflux-core/lib/utils":13}],15:[function(a,b,c){var d=a("reflux-core/lib/ListenerMethods"),e=a("./ListenerMixin"),f=a("reflux-core/lib/utils");b.exports=function(a,b){return{getInitialState:function(){return f.isFunction(a.getInitialState)?void 0===b?a.getInitialState():f.object([b],[a.getInitialState()]):{}},componentDidMount:function(){f.extend(this,d);var c=this,e=void 0===b?this.setState:function(a){"undefined"!=typeof c.isMounted&&c.isMounted()!==!0||c.setState(f.object([b],[a]))};this.listenTo(a,e)},componentWillUnmount:e.componentWillUnmount}}},{"./ListenerMixin":14,"reflux-core/lib/ListenerMethods":4,"reflux-core/lib/utils":13}],16:[function(a,b,c){var d=a("reflux-core/lib/ListenerMethods"),e=a("./ListenerMixin"),f=a("reflux-core/lib/utils");b.exports=function(a,b,c){return c=f.isFunction(b)?b:c,{getInitialState:function(){if(f.isFunction(a.getInitialState)){if(f.isFunction(b))return c.call(this,a.getInitialState());var d=c.call(this,a.getInitialState());return"undefined"!=typeof d?f.object([b],[d]):{}}return{}},componentDidMount:function(){f.extend(this,d);var e=this,g=function(a){if(f.isFunction(b))e.setState(c.call(e,a));else{var d=c.call(e,a);e.setState(f.object([b],[d]))}};this.listenTo(a,g)},componentWillUnmount:e.componentWillUnmount}}},{"./ListenerMixin":14,"reflux-core/lib/ListenerMethods":4,"reflux-core/lib/utils":13}],17:[function(a,b,c){var d=a("reflux-core");d.connect=a("./connect"),d.connectFilter=a("./connectFilter"),d.ListenerMixin=a("./ListenerMixin"),d.listenTo=a("./listenTo"),d.listenToMany=a("./listenToMany"),b.exports=d},{"./ListenerMixin":14,"./connect":15,"./connectFilter":16,"./listenTo":18,"./listenToMany":19,"reflux-core":10}],18:[function(a,b,c){var d=a("reflux-core/lib/ListenerMethods");b.exports=function(a,b,c){return{componentDidMount:function(){for(var e in d)if(this[e]!==d[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenTo!";this[e]=d[e]}this.listenTo(a,b,c)},componentWillUnmount:d.stopListeningToAll}}},{"reflux-core/lib/ListenerMethods":4}],19:[function(a,b,c){var d=a("reflux-core/lib/ListenerMethods");b.exports=function(a){return{componentDidMount:function(){for(var b in d)if(this[b]!==d[b]){if(this[b])throw"Can't have other property '"+b+"' when using Reflux.listenToMany!";this[b]=d[b]}this.listenToMany(a)},componentWillUnmount:d.stopListeningToAll}}},{"reflux-core/lib/ListenerMethods":4}]},{},[17])(17)});