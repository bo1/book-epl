var Consts=function(){function a(){this.BEST_WIDTH_FOR_FB=1200,this.BEST_HEIGHT_FOR_FB=630,this.HTTP="http://",this.HTTPS="https://",this.WWW="www.",this.HOUR=36e5,this.SERVER_ERROR_PUBLISH_REFRESH_REQUIRED=-11111,this.PRO_GALLERY_APP_ID="14271d6f-ba62-d045-549b-ab972ae1f70e",this.MULTISHARE_WIDGET_ID="1491fc25-fcd2-9c08-c74f-67b98b69ac4a",this.ALBUMS_APP_ID="13ff8629-c1fc-e289-e81f-bc8c8968e9d6"}return a}(),consts=window.consts=new Consts,utils,FS,AlbumsLogger=function(){function a(){this.biLoggerUsers=new W.BI.Logger({defaultEventArgs:{},defaultErrorArgs:{},adapter:"photo-users"}),this.biLoggerUou=new W.BI.Logger({defaultEventArgs:{},defaultErrorArgs:{},adapter:"photo-ugc"}),this.biParams={instance_id:window.instanceId,app_site_id:window.instanceId,src:65},this.biEvents={sample:{evid:1},albums_list_view:{evid:100,name:"List - loaded"},top_menu:{evid:101,name:"List - clicked {selection} in top menu"},new_photo_site:{evid:102,name:"List - New photo site created"},album_list_navigation:{evid:103,name:"album_list-->navigation"},delete_album:{evid:104,name:"List - deleted an album"},edit_album:{evid:105,name:"List - clicked Edit on an album"},share_album:{evid:106,name:"List - clicked Share on an album"},share_album_cancel:{evid:107},view_published_site:{evid:108,name:"List - clicked View on an album"},wizard_started:{evid:109,name:"Wizard - started"},wizard_step_details:{evid:110,name:"Wizard - changed site name"},wizard_type_click:{evid:111,name:"Wizard - clicked on an event type"},wizard_layout_click:{evid:112,name:"Wizard - clicked on a layout"},wizard_step_upload:{evid:113,name:"Wizard - chose photos to upload"},wizard_next:{evid:114,name:"Wizard - finished {screen_clicked} step"},editor_preview_images:{evid:115,name:"Builder - loading images preview ({precentage}%)"},editor_loading_complete:{evid:116,name:"Builder - loading images preview (complete)"},editor_upload_images:{evid:117,name:"Builder - Uploading images ({precentage}%)"},editor_click_on_set:{evid:118,name:"Photos Dialog - clicked on set"},editor_edit_set:{evid:119,name:"Photos Dialog - clicked on set edit"},editor_upload_more_photos:{evid:120,name:"Photos Dialog - uploaded more photos"},editor_delete_photo:{evid:121,name:"Photos Dialog - deleted a photo"},editor_new_set:{evid:122,name:"Photos Dialog - created a new set"},editor_reorder_photos:{evid:123,name:"Photos Dialog - reordered photos"},editor_change_design:{evid:124,name:"Design dialog - change layout"},editor_details_edit:{evid:125},editor_settings_edit:{evid:126},close_dialog:{evid:127},editor_top_menu:{evid:128,name:"Builder - clicked {selection} in top menu"},wizard_upload_trigger:{evid:129,name:"Wizard - added photos using {selection}"},wizard_close:{evid:130,name:"Wizard - closed"},wizard_back:{evid:131,name:"Wizard - clicked back"},loading_screen:{evid:132,name:"Builder - loading screen ({stage})"},editor_dialog_help:{evid:133,name:"{selection} Dialog - clicked Help"},editor_upload_trigger:{evid:134,name:"Photos Dialog - added photos using {selection}"},editor_upload_photos:{evid:135,name:"Photos Dialog - uploaded photos"},editor_resize_images_view:{evid:136,name:"Photos Dialog - resized images view"},editor_select_all_images:{evid:137,name:"Photos Dialog - select all images"},editor_clear_all_images:{evid:138,name:"Photos Dialog - clear images selection"},editor_cut_images:{evid:139,name:"Photos Dialog - cut images"},editor_copy_images:{evid:140,name:"Photos Dialog - copy images"},editor_delete_images:{evid:141,name:"Photos Dialog - delete images"},editor_paste_images:{evid:142,name:"Photos Dialog - paste images"},editor_set_permission:{evid:143,name:"Photos Dialog - change set permission to {selection}"},editor_download_permission:{evid:144,name:"Photos Dialog - change set download to {permission}"},editor_delete_set:{evid:145,name:"Photos Dialog - delete set"},publish:{evid:146,name:"Builder - album published"},open_dialog:{evid:147,name:"Builder - opened dialog"},client_error:{evid:148,name:"ERROR - {description}"},new_apple_album:{evid:181,name:"Apple - album created"},album_actions:{evid:300,name:"Site Viewer - action triggered {action}"},gog_loaded:{evid:301,name:"Gog - loaded"},gog_album_click:{evid:302,name:"Gog - album clicked"},settings_manage_albums_click:{evid:150,name:"Gog - manage albums clicked"},settings_layout_selected:{evid:151,name:"Gog - settings layout selected"},settings_tab_clicked:{evid:152,name:"Gog - tab clicked"},settings_my_albums_tab_click:{evid:155,name:"Gog - my albums tab clicked"},settings_my_albums_album_visible:{evid:153,name:"Gog - change album to {action}"},settings_my_albums_album_edit:{evid:154,name:"Gog - clicked edit on album"},publish_start:{evid:158,name:"Publish - start"},publish_error:{evid:159,name:"Publish - error"},refresh_SEO_params_ended:{evid:160,name:"Publish - refresh SEO params ended"},generate_download_link_started:{evid:161,name:"Publish - generate download link started"},save_in_santa_ended:{evid:162,name:"Publish - save in santa ended"},save_in_santa_failed:{evid:163,name:"Publish - save in santa failed"},publish_in_santa_ended:{evid:164,name:"Publish - publish in santa ended"},publish_in_santa_failed:{evid:167,name:"Publish - publish in santa failed"},publish_in_albums_ended:{evid:165,name:"Publish - publish in albums ended"},publish_in_albums_failed:{evid:166,name:"Publish - publish in albums failed"},refresh_SEO_params_started:{evid:168,name:"Publish - refresh SEO params started"},album_actions_update_ended:{evid:169,name:"Publish - album actions ended"},generate_download_link_for_set_ended:{evid:170,name:"Publish - generate actions update ended"},publish_upgrade:{evid:171,name:"Publish - upgrade link was clicked"},transfer_upgrade:{evid:172,name:"Publish - transfer link was clicked"},publish_popup:{evid:173,name:"Publish - which popup type was opened"},settings_load:{evid:174,name:"Settings - settings panel was loaded"},settings_open:{evid:200,name:"Settings - settings opened"},settings_change:{evid:201,name:"Settings - settings changed value"},media_removed:{evid:202,name:"Manage Media - media removed"},media_modified:{evid:203,name:"Manage Media - field modified"},page_action:{evid:204,name:"Manage Media - page changed"}},this.verifyBiParams()}return a.prototype.track=function(a,b,c){"album_actions"===a&&console.debug("not sending UoU BI");var d=this.biEvents[a];if(!d)return console.warn("TRACK EVENT ERROR - No such bi event",a),!1;if(!this.verifyBiParams())return console.warn("TRACK EVENT ERROR - Missing biParams",this.biParams),!1;try{var e=d.defaultParams||{},f=$.extend({},e,b),g=d.evid;f=$.extend(f,this.biParams),this.biLog(g,f,c)}catch(a){console.error("BI LOGGER ERROR!",a)}},a.prototype.stats=function(a,b,c,d){var e=1;"unlove"===d&&(e=-1,d="love");var f="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});$.ajax({url:"https://photographers-counters.wix.com/collector/rest/collect-js?ctToken="+a,type:"post",data:JSON.stringify({messageId:f,metrics:[{type:"album",reportMetrics:[{name:d,value:e}],properties:{instance_id:b,album_id:c}}]}),contentType:"application/json",dataType:"json",success:function(a){console.log("yeeee")}})},a.prototype.biLog=function(a,b,c){"undefined"==typeof a&&console.log("evid is missing, cannot log event",a,b),"undefined"==typeof b&&console.log("params are missing, cannot log event",a,b);var d=$.extend({evid:a},b),e=this.isUouEvent(d.evid)?this.biLoggerUou:this.biLoggerUsers;e.log(d,c)},a.prototype.isUouEvent=function(a){return[300,301,302,303,304].indexOf(a)>=0},a.prototype.verifyBiParams=function(){if(this.biParams.biToken)return!0;if(!("undefined"!=typeof Wix&&Wix&&Wix.Utils&&Wix.Utils.getInstanceValue&&window.instance))return!(!utils||!utils.isDev());try{return this.biParams.biToken=Wix.Utils.getInstanceValue("biToken"),!0}catch(a){return console.warn("Error parsing biToken from instance!",a),!(!utils||!utils.isDev())}},a}(),logger=window.logger=new AlbumsLogger;try{var rcpSpanId="rcp-span",rcpSpanStyle="display:none; position:fixed;overflow:hidden;background-color: rgba(54,54,54,.4);border-radius:2px;color: #fff; padding: 3px 8px 3px 5px;font-family: HelveticaNeueW01-65Medi, HelveticaNeueW02-65Medi, HelveticaNeueW10-65Medi, Helvetica Neue, Helvetica, Arial, メイリオ, meiryo, ヒラギノ角ゴ pro w3, hiragino kaku gothic pro, sans-serif;font-size:11px;z-index:9999",rcpCopyrightsImage='<img src="https://static.wixstatic.com/media/8bb438_890d19abb74245b6b55f558eecce22bf.png" alt="(c)" style="vertical-align: middle; -webkit-user-select: none;margin: 0;padding: 0;width: 14px;height:  14px; margin-right: 5px;">',rcpScriptId="rcp-script",rcpScript="var rcpSpan = document.getElementById('rcp-span');";rcpScript+="window.onmousemove = function (e) { var x = e.clientX, y = e.clientY; rcpSpan.style.top = (y + 20) + 'px'; rcpSpan.style.left = (x + 20) + 'px'; };",rcpScript+="if (document.addEventListener) { document.addEventListener('contextmenu', function(e) { showCR(); e.preventDefault(); }, false); } else { document.attachEvent('oncontextmenu', function() { showCR(); window.event.returnValue = false; }); }",rcpScript+="function showCR() { rcpSpan.style.display = 'block'; window.setTimeout(closeCR,2000); }",rcpScript+="function closeCR() { rcpSpan.style.display = 'none'; }";var rcpStyleId="rcp-style",rcpStyle="img {  pointer-events: none !important; user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; -webkit-user-select: none !important; -webkit-touch-callout:none !important; -webkit-user-drag: none !important; -khtml-user-drag: none !important; -moz-user-drag: none !important; -o-user-drag: none !important; user-drag: none !important;}";if(!document.getElementById(rcpSpanId)){var span=document.createElement("span");span.id=rcpSpanId,span.setAttribute("style",rcpSpanStyle),span.innerHTML=rcpCopyrightsImage,document.body.appendChild(span)}if(!document.getElementById(rcpScriptId)){var script=document.createElement("script");script.id=rcpScriptId,script.type="text/javascript",script.innerHTML=rcpScript,document.body.appendChild(script)}if(!document.getElementById(rcpStyleId)){var style=document.createElement("style");style.type="text/css",style.id=rcpStyleId,style.innerHTML=rcpStyle,document.head.appendChild(style)}}catch(a){console.error("error in right click protection")}try{var rcpSpanId="rcp-span",rcpSpanStyle="display:none; position:fixed;overflow:hidden;background-color: rgba(54,54,54,.4);border-radius:2px;color: #fff; padding: 3px 8px 3px 5px;font-family: HelveticaNeueW01-65Medi, HelveticaNeueW02-65Medi, HelveticaNeueW10-65Medi, Helvetica Neue, Helvetica, Arial, メイリオ, meiryo, ヒラギノ角ゴ pro w3, hiragino kaku gothic pro, sans-serif;font-size:11px;z-index:9999",rcpCopyrightsImage='<img src="https://static.wixstatic.com/media/8bb438_890d19abb74245b6b55f558eecce22bf.png" alt="(c)" style="vertical-align: middle; -webkit-user-select: none;margin: 0;padding: 0;width: 14px;height:  14px; margin-right: 5px;">',rcpScriptId="rcp-script",rcpScript="var rcpSpan = document.getElementById('rcp-span');";rcpScript+="window.onmousemove = function (e) { var x = e.clientX, y = e.clientY; rcpSpan.style.top = (y + 20) + 'px'; rcpSpan.style.left = (x + 20) + 'px'; };",rcpScript+="if (document.addEventListener) { document.addEventListener('contextmenu', function(e) { showCR(); e.preventDefault(); }, false); } else { document.attachEvent('oncontextmenu', function() { showCR(); window.event.returnValue = false; }); }",rcpScript+="function showCR() { rcpSpan.style.display = 'block'; window.setTimeout(closeCR,2000); }",rcpScript+="function closeCR() { rcpSpan.style.display = 'none'; }";var rcpStyleId="rcp-style",rcpStyle="img {  pointer-events: none !important; user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; -webkit-user-select: none !important; -webkit-touch-callout:none !important; -webkit-user-drag: none !important; -khtml-user-drag: none !important; -moz-user-drag: none !important; -o-user-drag: none !important; user-drag: none !important;}";if(!document.getElementById(rcpSpanId)){var span=document.createElement("span");span.id=rcpSpanId,span.setAttribute("style",rcpSpanStyle),span.innerHTML=rcpCopyrightsImage,document.body.appendChild(span)}if(!document.getElementById(rcpScriptId)){var script=document.createElement("script");script.id=rcpScriptId,script.type="text/javascript",script.innerHTML=rcpScript,document.body.appendChild(script)}if(!document.getElementById(rcpStyleId)){var style=document.createElement("style");style.type="text/css",style.id=rcpStyleId,style.innerHTML=rcpStyle,document.head.appendChild(style)}}catch(a){console.error("error in right click protection")}var TranslationUtil=function(){function a(){}return a.prototype.getByKey=function(a){return window.translations&&window.translations[a]||null},a}(),transUtil=window.transUtil=new TranslationUtil,addSubtitle=!1;try{document.domain="wix.com";var ds_1=window.parent.documentServices;if(ds_1){var pageId=void 0;pageId="undefined"==typeof ds_1.pages.getPrimaryPageId?ds_1.pages.getCurrentPageId():ds_1.pages.getPrimaryPageId();var pageRef_1=ds_1.pages.getReference(pageId),list=ds_1.components.getChildren(pageRef_1);if(1==list.length){var gogWidget_1=list[0],compData=ds_1.components.data.get(gogWidget_1),appData=ds_1.tpa.app.getData(compData.applicationId).appDefinitionName;if("Wix Photo Albums"==appData||"WixPhotosLocal"==appData){var margin=10,gogTitle=window.transUtil&&window.transUtil.getByKey("Gog_Viewer_Title")||"Photo Albums",gogSubtitle=window.transUtil&&window.transUtil.getByKey("Gog_Viewer_Subtitle")||"As a client, you’ll receive a personalized album site just for your photos that you can share easily.",newComp_1={componentType:"wysiwyg.viewer.components.WRichText",style:"txtNew",data:{text:'<h4 style="text-align: center;" class="font_4">'+gogTitle+"</h4>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},layout:{x:0,y:10+2*margin,width:980,height:10}},title=ds_1.components.addAndAdjustLayout(pageRef_1,newComp_1);ds_1.waitForChangesApplied(function(){var a=ds_1.components.layout.get(title);if(addSubtitle){newComp_1.data.text='<p style="text-align: center;" class="font_8">'+gogSubtitle+"</p>",newComp_1.layout={x:0,y:a.y+a.height+margin,width:980,height:10};var b=ds_1.components.addAndAdjustLayout(pageRef_1,newComp_1);ds_1.waitForChangesApplied(function(){var a=ds_1.components.layout.get(b);ds_1.components.layout.update(gogWidget_1,{y:a.y+a.height+2*margin})})}else ds_1.components.layout.update(gogWidget_1,{y:a.y+a.height+2*margin})});var invisibleComp={componentType:"wysiwyg.viewer.components.WRichText",style:"txtNew",data:{text:"<p></p>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},layout:{x:0,y:0,width:0,height:0}};ds_1.components.addAndAdjustLayout(pageRef_1,invisibleComp)}}}}catch(a){console.log("add headers error",a)}var GogSettings=function(){function a(a,b){this.styles=a,this.siteColors=b,this.defaultSettings={v0:{thumbnailSize:1,albumPadding:20,borderWidth:0,borderColor:4,detailsBgColor:1,textAlign:1,cropMode:1,layout:4,albumClick:0,defaultColorWithOpacity:"rgba(255, 255, 255, 0.8)"},v1:{albumClick:1}}}return a.prototype.getNumber=function(a,b){return this.getBy("numbers",a,b)},a.prototype.getColor=function(a){var b;if(this.styles&&(b=this.styles.colors[a]),b)b=b.value;else{var c=this.defaultSettings.v0[a];if("undefined"!=typeof c&&this.siteColors)for(var d=0;d<this.siteColors.length;d++)if(this.siteColors[d].reference=="color-"+c){b=this.siteColors[d].value;break}}return b},a.prototype.getAlbumClickAction=function(a){var b;return b="undefined"==typeof a||Date.parse(a)<1451905777288?0:1,this.getNumber("albumClick",b)},Object.defineProperty(a.prototype,"padding",{get:function(){return this.getNumber("albumPadding")+"px"},enumerable:!0,configurable:!0}),a.prototype.convertHex=function(a,b){a=a.replace("#","");var c=parseInt(a.substring(0,2),16),d=parseInt(a.substring(2,4),16),e=parseInt(a.substring(4,6),16);return"rgba("+c+","+d+","+e+","+b+")"},a.prototype.getColorWithOpacity=function(a,b){var c,d=this.getColor(a);return d&&"undefined"!=typeof b&&(c=this.convertHex(d,b)),c||this.defaultSettings.v0.defaultColorWithOpacity},Object.defineProperty(a.prototype,"textAlign",{get:function(){var a=this.getNumber("textAlign");switch(a){case 0:a="left";break;case 1:a="center";break;case 2:a="right"}return a},enumerable:!0,configurable:!0}),a.prototype.getBy=function(a,b,c){var d;for("undefined"==typeof c&&(c=0),this.styles&&this.styles[a]&&(d=this.styles[a][b]);"undefined"==typeof d&&c>=0;)d=this.defaultSettings["v"+c][b],c-=1;return d},a}(),actions=Reflux.createActions(["deletePhoto","load"]),actions=Reflux.createActions(["deletePhoto","load"]),pollingIntervalSec=30,gogStore=Reflux.createStore({listenables:actions,pollingInterval:null,isOldEditor:null,gogMasterApi:function(){return"/_api/v1/gogs/1a277b49-ad04-4139-a4ab-8b5ac24205a5/TPASection_ihuk8wkg/albums?instance="+window.instance},columnsCount:[[1,1,1,1],[2,2,1,1],[4,3,2,1],[4,3,2,1],[5,4,3,2],[5,5,4,3]],detailsText:[{title:"Body-M",date:"Body-S",count:"Body-S"},{title:"Body-L",date:"Body-M",count:"Body-S"},{title:"Heading-S",date:"Body-L",count:"Body-S"},{title:"Heading-M",date:"Body-L",count:"Body-M"}],getPresetFontIfNeeded:function(a,b){if(this.data.styles.fonts[a+"Font"])return null;var c=b[a],d=this.data.textPresets[c];return d.value.substring(5,d.value.length-1)},getPresetFontSize:function(a){return this.data.textPresets[a].size},getURLParameter:function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return e[1]}},updateGog:function(){var a=this;this.loadGog(function(b){a.data.gog=b,a.trigger(a.data)},function(){clearInterval(a.pollingInterval)})},loadGog:function(a,b){b=b||function(){},$.get("/_api/v1/gogs/"+window.instanceId+"/"+window.compId+"/albums?instance="+window.instance,a).fail(b)},onGogLoad:function(a){var b=this;this.data.gog=a,Wix.Styles.getSiteTextPresets(function(a){b.data.textPresets=a,Wix.Styles.getSiteColors(function(a){b.data.siteColors=a,Wix.Styles.getStyleParams(function(a){b.data.styles=a,b.isOldEditor?b.updateDimensions(!0):Wix.Data.Public.get("defaultAlbums",{scope:"APP"},function(a){$.get(b.gogMasterApi(),function(c){var d,e,f,g={},h=[];for(f=0;f<c.albums.length;f++){var i=c.albums[f];g[i.albumId]=i}for(e=0;e<a.defaultAlbums.ids.length;e++)d=a.defaultAlbums.ids[e],b.defAlbums[d]?h.push(b.defAlbums[d]):g[d]?h.push(g[d]):console.error(d,"bad id - not default album or in gog master");b.data.defaultAlbums=h,b.updateDimensions(!0)}).fail(function(){b.updateDimensions(!0)})},function(a){b.updateDimensions(!0)})})})})},getEditorVersion:function(a){var b=this;"site"===Wix.Utils.getViewMode()?(b.isOldEditor=!1,a()):Wix.Features.isSupported("PREVIEW_TO_SETTINGS",function(c){b.isOldEditor=!c,a()})},asyncInit:function(){var a=this;"1"===this.getURLParameter("demo")?(this.data.gog={albums:[],demo:!0},this.data.textPresets=this.getDefaultTextPresets(),this.updateDimensions(!0)):this.getEditorVersion(function(){if(a.data.defaultTemplateAlbums=a.getGogDefaultData(),window.gog)try{var b=JSON.parse(window.gog);if(!b.instanceId)throw"Gog - no instance id";a.onGogLoad(b)}catch(b){console.error("Bad parsing of window gog",window.gog,b),a.loadGog(a.onGogLoad)}else a.loadGog(a.onGogLoad)})},onSettingsUpdate:function(a){if("delete"===a.action){for(var b=this.data.gog.albums,c=-1,d=0;b[d];d++)b[d].albumId===a.album.albumId&&(c=d);c>=0?(this.data.gog.albums.splice(c,1),this.trigger(this.data)):console.error("cant find album",a.album)}else"add"===a.action?(this.data.gog.albums.push(a.album),this.trigger(this.data)):"albumsData"===a.action?(this.data.gog.albums=a.data,this.trigger(this.data)):console.error("unknown action",a.action)},onEditModeChange:function(a){this.data.editMode=a.editMode,this.trigger(this.data)},onStyleChange:function(a){this.data.styles=a,this.updateDimensions()},colNumCalc:function(a,b){return"mobile"===Wix.Utils.getDeviceType()?1:[4,3,2,1][b]},detailsTextCalc:function(a){if(this.data.textPresets){var b,c;if(a<160?(b=-1,c="none"):a<180?(b=0,c="small"):a<220?(b=0,c="small2"):a<280?(b=0,c="small3"):a<340?(b=1,c="small3"):a<440?(c="medium",b=1):a<700?(c="big",b=1):a<980?(c="xl",b=2):(c="xxl",b=3),b<0)return{albumClass:c};var d=this.detailsText[b];return{title:this.getPresetFontIfNeeded("title",d),titleSize:this.getPresetFontSize(d.title),date:this.getPresetFontIfNeeded("date",d),dateSize:this.getPresetFontSize(d.date),countSize:this.getPresetFontSize(d.count),albumClass:c}}},updateDimensions:function(a){a===!0&&(this.data.gogLoaded=!0);var b=new GogSettings(this.data.styles),c=this.colNumCalc(window.innerWidth,b.getNumber("thumbnailSize")),d=window.innerWidth/c;d=Math.max(d,160);var e=Math.floor(window.innerWidth/d),f=b.getNumber("albumPadding"),g=b.getNumber("borderWidth"),h=d-2*g-f-f/c;this.data.dimensions={width:parseInt(h),colCnt:e,outerWidth:d,padding:f},this.data.texts=this.detailsTextCalc(h),this.trigger(this.data)},init:function(){var a=Wix.Utils.getViewMode(),b="editor"===a;this.data={gog:{albums:[]},styles:{},editMode:a},this.asyncInit(),Wix.addEventListener(Wix.Events.STYLE_PARAMS_CHANGE,this.onStyleChange),Wix.addEventListener(Wix.Events.EDIT_MODE_CHANGE,this.onEditModeChange),Wix.addEventListener(Wix.Events.SETTINGS_UPDATED,this.onSettingsUpdate),window.addEventListener("resize",this.updateDimensions),b&&(this.pollingInterval=setInterval(this.updateGog,1e3*pollingIntervalSec))},deletePhoto:function(a,b){a=b,this.data.albums[0].photos=[],this.trigger(this.data)},getDefaultData:function(){return this.data},getDefaultTextPresets:function(){return{Title:{editorKey:"font_0",lineHeight:"1.4em",style:"normal",weight:"normal",size:"40px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 40px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},Menu:{editorKey:"font_1",lineHeight:"1.4em",style:"normal",weight:"normal",size:"16px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 16px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Page-title":{editorKey:"font_2",lineHeight:"1.4em",style:"normal",weight:"normal",size:"25px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 25px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-XL":{editorKey:"font_3",lineHeight:"1.4em",style:"normal",weight:"normal",size:"60px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 60px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-L":{editorKey:"font_4",lineHeight:"1.4em",style:"normal",weight:"normal",size:"40px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 40px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-M":{editorKey:"font_5",lineHeight:"1.4em",style:"normal",weight:"normal",size:"25px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 25px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-S":{editorKey:"font_6",lineHeight:"1.4em",style:"normal",weight:"normal",size:"22px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 22px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-L":{editorKey:"font_7",lineHeight:"1.4em",style:"normal",weight:"normal",size:"17px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 17px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-M":{editorKey:"font_8",lineHeight:"1.4em",style:"normal",weight:"normal",size:"15px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 15px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-S":{editorKey:"font_9",lineHeight:"1.4em",style:"normal",weight:"normal",size:"14px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 14px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-XS":{editorKey:"font_10",lineHeight:"1.4em",style:"normal",weight:"normal",size:"12px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 12px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"}}},defAlbums:{babyLori:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987090",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Baby Lori",date:"October 18th, 2023"},photosCount:203,orderIndex:6,publishedLayout:{link:"http://www.wix.com/exposure4/new-born-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_444d9ee4630346ffb891dce4db92df40.jpg"},{orderIndex:2,url:"8bb438_df0fed1371e141e2b103425e093de065.jpg"},{orderIndex:3,url:"8bb438_dbdffccb7ab64989b498e227ad577ce2.jpg"},{orderIndex:4,url:"8bb438_0526340d5bc24aaeae76c96ea6ba49a3.jpg"},{orderIndex:5,url:"8bb438_62f82bbe8cfa499ea8ac895957360998.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},laurenRandy:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987091",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Lauren & Randy",date:"October 18th, 2023"},orderIndex:1,photosCount:72,publishedLayout:{link:"http://www.wix.com/exposure4/engagement-dark-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_d2d70ba209824af49a0624a773729c79.jpg"},{orderIndex:2,url:"8bb438_07e31b983a2e4271bf5b0d070166429f.jpg"},{orderIndex:3,url:"8bb438_e9348450b83b4480a6c0cca8073e52ce.jpg"},{orderIndex:4,url:"8bb438_1cc1cb0a82ff4f81903d09dd2b760542.jpg"},{orderIndex:5,url:"8bb438_0a306b3404bd4f0481ab4c323263d2e5.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},familyEverAfter:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987092",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Family Ever After",date:"October 18th, 2023"},photosCount:31,orderIndex:5,publishedLayout:{link:"http://www.wix.com/exposure4/family-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_489b5b7b8511461593a50ed7654b997f.jpg"},{orderIndex:2,url:"8bb438_629a84cea79242e48bc33ee58012fa71.jpg"},{orderIndex:3,url:"8bb438_149dd3f21c7b4f2ea3adb3b9c8016b52.jpg"},{orderIndex:4,url:"8bb438_a2b6d7aac3984349af6e92b7ecb9b67f.jpg"},{orderIndex:5,url:"8bb438_0148d146b0574bb188ab832d07ec4deb.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},joshuaAshley:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987093",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Joshua & Ashley",date:"October 18th, 2023"},orderIndex:2,photosCount:68,publishedLayout:{link:"http://www.wix.com/exposure4/wedding-bg-dark-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_3382db4820744625b02b5aaadd8d75a2.jpg"},{orderIndex:2,url:"8bb438_4f6f8a26e4ab41c4a1b2e968b06acdd2.jpg"},{orderIndex:3,url:"8bb438_f01a67e5eefa4486b753d8109c8118bd.jpg"},{orderIndex:4,url:"8bb438_e6d80dbad86e482b8be49d48c75243be.jpg"},{orderIndex:5,url:"8bb438_75adf38978fc481c906457c1bf416b3a.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},lynnRichard:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987094",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Lynn & Richard",date:"October 18th, 2023"},orderIndex:3,photosCount:88,publishedLayout:{link:"http://www.wix.com/exposure4/wedding-bg-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_35c83f9806594bde9efd314872825f67.jpg"},{orderIndex:2,url:"8bb438_85aefff24c61417e890e07cd16e98365.jpg"},{orderIndex:3,url:"8bb438_aa0a9ede5cb14013912793d3bb3c1dce.jpg"},{orderIndex:4,url:"8bb438_699fea87f6544f609ad31c2a68b9a134.jpg"},{orderIndex:5,url:"8bb438_c876917b7a9042a4b06aa29959650147.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},babyAiden:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987095",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Baby Aiden",date:"October 18th, 2023"},orderIndex:4,photosCount:115,publishedLayout:{link:"http://www.wix.com/exposure4/new-born-dark"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_7825f8f4b82b4a37b347935ba87fc3cf.jpg"},{orderIndex:2,url:"8bb438_eab06023896d435080f6afb9d1a08b79.jpg"},{orderIndex:3,url:"8bb438_a27fa69350854077b34e52a01f604af6.jpg"},{orderIndex:4,url:"8bb438_58fd84c4009840078cc840e2a85ea4aa.jpg"},{orderIndex:5,url:"8bb438_926dbdfcb5de48418792059000ee7f80.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},rachelSam:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987096",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Rachel & Sam",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://www.wix.com/exposure4/engagement-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_25a32cd92d58492cbc78750d1b212de0.jpg"},{orderIndex:2,url:"8bb438_2993a2c42e954b63abc450fdab26d441.jpg"},{orderIndex:3,url:"8bb438_cba72a99623146ad923e2806f0e84f1f.jpg"},{orderIndex:4,url:"8bb438_f620a8dc38254628a0cc12b4b711877b.jpg"},{orderIndex:5,url:"8bb438_45bb55b35cb1412e932c5e007d8e89c6.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},karaDabato:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987097",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Kara Dabato",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://www.wix.com/exposure4/model-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_b9960fffe30649c094a32ca816066ab3.jpg"},{orderIndex:2,url:"8bb438_dfef24f99b0940418fb4137702ed7e48.jpg"},{orderIndex:3,url:"8bb438_1c3d74dfa2374e28b3a21331ca67fcd8.jpg"},{orderIndex:4,url:"8bb438_c4c4c03cf23e4e1ca1bcd1d5261e0794.jpg"},{orderIndex:5,url:"8bb438_93b26324e6814c609ce6f0c26c382553.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},natashaFink:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987098",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Natasha Fink",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://www.wix.com/exposure4/model-dark-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_95a633d5a64147a4896e9564e6691ece.jpg"},{orderIndex:2,url:"8bb438_bd98c95dd89d4a8287f99eb686565c60.jpg"},{orderIndex:3,url:"8bb438_adee397189054fd79774223a435a3a71.jpg"},{orderIndex:4,url:"8bb438_1d6378db77534f5cb466b706dd562813.jpg"},{orderIndex:5,url:"8bb438_6142466a30aa4865b83489ff3f984072.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},juneRiley:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987099",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"June Riley",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://exposure4.wix.com/june-riley"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_d3c65c27ef6b4f798ee69b0792601a71.jpg"},{orderIndex:2,url:"8bb438_3834e049435f4f41a78063ea4d3eb287.jpg"},{orderIndex:3,url:"8bb438_ec80629c0c954a3db6d2977fb65332ba.jpg"},{orderIndex:4,url:"8bb438_0c6713f8adb040b2b8d5f945938401c7.jpg"},{orderIndex:5,url:"8bb438_0cbcdfd72d7b4b5ba7451744ff101b15.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"}},getGogDefaultData:function(){var a=this.defAlbums;return[a.babyLori,a.rachelSam,a.familyEverAfter,a.joshuaAshley,a.lynnRichard,a.babyAiden]}}),pollingIntervalSec=30,gogStore=Reflux.createStore({listenables:actions,pollingInterval:null,isOldEditor:null,gogMasterApi:function(){return"/_api/v1/gogs/1a277b49-ad04-4139-a4ab-8b5ac24205a5/TPASection_ihuk8wkg/albums?instance="+window.instance},columnsCount:[[1,1,1,1],[2,2,1,1],[4,3,2,1],[4,3,2,1],[5,4,3,2],[5,5,4,3]],detailsText:[{title:"Body-M",date:"Body-S",
count:"Body-S"},{title:"Body-L",date:"Body-M",count:"Body-S"},{title:"Heading-S",date:"Body-L",count:"Body-S"},{title:"Heading-M",date:"Body-L",count:"Body-M"}],getPresetFontIfNeeded:function(a,b){if(this.data.styles.fonts[a+"Font"])return null;var c=b[a],d=this.data.textPresets[c];return d.value.substring(5,d.value.length-1)},getPresetFontSize:function(a){return this.data.textPresets[a].size},getURLParameter:function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return e[1]}},updateGog:function(){var a=this;this.loadGog(function(b){a.data.gog=b,a.trigger(a.data)},function(){clearInterval(a.pollingInterval)})},loadGog:function(a,b){b=b||function(){},$.get("/_api/v1/gogs/"+window.instanceId+"/"+window.compId+"/albums?instance="+window.instance,a).fail(b)},onGogLoad:function(a){var b=this;this.data.gog=a,Wix.Styles.getSiteTextPresets(function(a){b.data.textPresets=a,Wix.Styles.getSiteColors(function(a){b.data.siteColors=a,Wix.Styles.getStyleParams(function(a){b.data.styles=a,b.isOldEditor?b.updateDimensions(!0):Wix.Data.Public.get("defaultAlbums",{scope:"APP"},function(a){$.get(b.gogMasterApi(),function(c){var d,e,f,g={},h=[];for(f=0;f<c.albums.length;f++){var i=c.albums[f];g[i.albumId]=i}for(e=0;e<a.defaultAlbums.ids.length;e++)d=a.defaultAlbums.ids[e],b.defAlbums[d]?h.push(b.defAlbums[d]):g[d]?h.push(g[d]):console.error(d,"bad id - not default album or in gog master");b.data.defaultAlbums=h,b.updateDimensions(!0)}).fail(function(){b.updateDimensions(!0)})},function(a){b.updateDimensions(!0)})})})})},getEditorVersion:function(a){var b=this;"site"===Wix.Utils.getViewMode()?(b.isOldEditor=!1,a()):Wix.Features.isSupported("PREVIEW_TO_SETTINGS",function(c){b.isOldEditor=!c,a()})},asyncInit:function(){var a=this;"1"===this.getURLParameter("demo")?(this.data.gog={albums:[],demo:!0},this.data.textPresets=this.getDefaultTextPresets(),this.updateDimensions(!0)):this.getEditorVersion(function(){if(a.data.defaultTemplateAlbums=a.getGogDefaultData(),window.gog)try{var b=JSON.parse(window.gog);if(!b.instanceId)throw"Gog - no instance id";a.onGogLoad(b)}catch(b){console.error("Bad parsing of window gog",window.gog,b),a.loadGog(a.onGogLoad)}else a.loadGog(a.onGogLoad)})},onSettingsUpdate:function(a){if("delete"===a.action){for(var b=this.data.gog.albums,c=-1,d=0;b[d];d++)b[d].albumId===a.album.albumId&&(c=d);c>=0?(this.data.gog.albums.splice(c,1),this.trigger(this.data)):console.error("cant find album",a.album)}else"add"===a.action?(this.data.gog.albums.push(a.album),this.trigger(this.data)):"albumsData"===a.action?(this.data.gog.albums=a.data,this.trigger(this.data)):console.error("unknown action",a.action)},onEditModeChange:function(a){this.data.editMode=a.editMode,this.trigger(this.data)},onStyleChange:function(a){this.data.styles=a,this.updateDimensions()},colNumCalc:function(a,b){return"mobile"===Wix.Utils.getDeviceType()?1:[4,3,2,1][b]},detailsTextCalc:function(a){if(this.data.textPresets){var b,c;if(a<160?(b=-1,c="none"):a<180?(b=0,c="small"):a<220?(b=0,c="small2"):a<280?(b=0,c="small3"):a<340?(b=1,c="small3"):a<440?(c="medium",b=1):a<700?(c="big",b=1):a<980?(c="xl",b=2):(c="xxl",b=3),b<0)return{albumClass:c};var d=this.detailsText[b];return{title:this.getPresetFontIfNeeded("title",d),titleSize:this.getPresetFontSize(d.title),date:this.getPresetFontIfNeeded("date",d),dateSize:this.getPresetFontSize(d.date),countSize:this.getPresetFontSize(d.count),albumClass:c}}},updateDimensions:function(a){a===!0&&(this.data.gogLoaded=!0);var b=new GogSettings(this.data.styles),c=this.colNumCalc(window.innerWidth,b.getNumber("thumbnailSize")),d=window.innerWidth/c;d=Math.max(d,160);var e=Math.floor(window.innerWidth/d),f=b.getNumber("albumPadding"),g=b.getNumber("borderWidth"),h=d-2*g-f-f/c;this.data.dimensions={width:parseInt(h),colCnt:e,outerWidth:d,padding:f},this.data.texts=this.detailsTextCalc(h),this.trigger(this.data)},init:function(){var a=Wix.Utils.getViewMode(),b="editor"===a;this.data={gog:{albums:[]},styles:{},editMode:a},this.asyncInit(),Wix.addEventListener(Wix.Events.STYLE_PARAMS_CHANGE,this.onStyleChange),Wix.addEventListener(Wix.Events.EDIT_MODE_CHANGE,this.onEditModeChange),Wix.addEventListener(Wix.Events.SETTINGS_UPDATED,this.onSettingsUpdate),window.addEventListener("resize",this.updateDimensions),b&&(this.pollingInterval=setInterval(this.updateGog,1e3*pollingIntervalSec))},deletePhoto:function(a,b){a=b,this.data.albums[0].photos=[],this.trigger(this.data)},getDefaultData:function(){return this.data},getDefaultTextPresets:function(){return{Title:{editorKey:"font_0",lineHeight:"1.4em",style:"normal",weight:"normal",size:"40px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 40px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},Menu:{editorKey:"font_1",lineHeight:"1.4em",style:"normal",weight:"normal",size:"16px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 16px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Page-title":{editorKey:"font_2",lineHeight:"1.4em",style:"normal",weight:"normal",size:"25px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 25px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-XL":{editorKey:"font_3",lineHeight:"1.4em",style:"normal",weight:"normal",size:"60px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 60px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-L":{editorKey:"font_4",lineHeight:"1.4em",style:"normal",weight:"normal",size:"40px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 40px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-M":{editorKey:"font_5",lineHeight:"1.4em",style:"normal",weight:"normal",size:"25px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 25px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Heading-S":{editorKey:"font_6",lineHeight:"1.4em",style:"normal",weight:"normal",size:"22px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 22px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-L":{editorKey:"font_7",lineHeight:"1.4em",style:"normal",weight:"normal",size:"17px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 17px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-M":{editorKey:"font_8",lineHeight:"1.4em",style:"normal",weight:"normal",size:"15px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 15px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-S":{editorKey:"font_9",lineHeight:"1.4em",style:"normal",weight:"normal",size:"14px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 14px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"},"Body-XS":{editorKey:"font_10",lineHeight:"1.4em",style:"normal",weight:"normal",size:"12px",fontFamily:"din-next-w01-light",value:"font:normal normal normal 12px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif;"}}},defAlbums:{babyLori:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987090",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Baby Lori",date:"October 18th, 2023"},photosCount:203,orderIndex:6,publishedLayout:{link:"http://www.wix.com/exposure4/new-born-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_444d9ee4630346ffb891dce4db92df40.jpg"},{orderIndex:2,url:"8bb438_df0fed1371e141e2b103425e093de065.jpg"},{orderIndex:3,url:"8bb438_dbdffccb7ab64989b498e227ad577ce2.jpg"},{orderIndex:4,url:"8bb438_0526340d5bc24aaeae76c96ea6ba49a3.jpg"},{orderIndex:5,url:"8bb438_62f82bbe8cfa499ea8ac895957360998.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},laurenRandy:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987091",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Lauren & Randy",date:"October 18th, 2023"},orderIndex:1,photosCount:72,publishedLayout:{link:"http://www.wix.com/exposure4/engagement-dark-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_d2d70ba209824af49a0624a773729c79.jpg"},{orderIndex:2,url:"8bb438_07e31b983a2e4271bf5b0d070166429f.jpg"},{orderIndex:3,url:"8bb438_e9348450b83b4480a6c0cca8073e52ce.jpg"},{orderIndex:4,url:"8bb438_1cc1cb0a82ff4f81903d09dd2b760542.jpg"},{orderIndex:5,url:"8bb438_0a306b3404bd4f0481ab4c323263d2e5.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},familyEverAfter:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987092",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Family Ever After",date:"October 18th, 2023"},photosCount:31,orderIndex:5,publishedLayout:{link:"http://www.wix.com/exposure4/family-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_489b5b7b8511461593a50ed7654b997f.jpg"},{orderIndex:2,url:"8bb438_629a84cea79242e48bc33ee58012fa71.jpg"},{orderIndex:3,url:"8bb438_149dd3f21c7b4f2ea3adb3b9c8016b52.jpg"},{orderIndex:4,url:"8bb438_a2b6d7aac3984349af6e92b7ecb9b67f.jpg"},{orderIndex:5,url:"8bb438_0148d146b0574bb188ab832d07ec4deb.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},joshuaAshley:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987093",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Joshua & Ashley",date:"October 18th, 2023"},orderIndex:2,photosCount:68,publishedLayout:{link:"http://www.wix.com/exposure4/wedding-bg-dark-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_3382db4820744625b02b5aaadd8d75a2.jpg"},{orderIndex:2,url:"8bb438_4f6f8a26e4ab41c4a1b2e968b06acdd2.jpg"},{orderIndex:3,url:"8bb438_f01a67e5eefa4486b753d8109c8118bd.jpg"},{orderIndex:4,url:"8bb438_e6d80dbad86e482b8be49d48c75243be.jpg"},{orderIndex:5,url:"8bb438_75adf38978fc481c906457c1bf416b3a.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},lynnRichard:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987094",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Lynn & Richard",date:"October 18th, 2023"},orderIndex:3,photosCount:88,publishedLayout:{link:"http://www.wix.com/exposure4/wedding-bg-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_35c83f9806594bde9efd314872825f67.jpg"},{orderIndex:2,url:"8bb438_85aefff24c61417e890e07cd16e98365.jpg"},{orderIndex:3,url:"8bb438_aa0a9ede5cb14013912793d3bb3c1dce.jpg"},{orderIndex:4,url:"8bb438_699fea87f6544f609ad31c2a68b9a134.jpg"},{orderIndex:5,url:"8bb438_c876917b7a9042a4b06aa29959650147.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},babyAiden:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987095",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Baby Aiden",date:"October 18th, 2023"},orderIndex:4,photosCount:115,publishedLayout:{link:"http://www.wix.com/exposure4/new-born-dark"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_7825f8f4b82b4a37b347935ba87fc3cf.jpg"},{orderIndex:2,url:"8bb438_eab06023896d435080f6afb9d1a08b79.jpg"},{orderIndex:3,url:"8bb438_a27fa69350854077b34e52a01f604af6.jpg"},{orderIndex:4,url:"8bb438_58fd84c4009840078cc840e2a85ea4aa.jpg"},{orderIndex:5,url:"8bb438_926dbdfcb5de48418792059000ee7f80.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},rachelSam:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987096",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Rachel & Sam",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://www.wix.com/exposure4/engagement-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_25a32cd92d58492cbc78750d1b212de0.jpg"},{orderIndex:2,url:"8bb438_2993a2c42e954b63abc450fdab26d441.jpg"},{orderIndex:3,url:"8bb438_cba72a99623146ad923e2806f0e84f1f.jpg"},{orderIndex:4,url:"8bb438_f620a8dc38254628a0cc12b4b711877b.jpg"},{orderIndex:5,url:"8bb438_45bb55b35cb1412e932c5e007d8e89c6.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},karaDabato:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987097",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Kara Dabato",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://www.wix.com/exposure4/model-bright-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_b9960fffe30649c094a32ca816066ab3.jpg"},{orderIndex:2,url:"8bb438_dfef24f99b0940418fb4137702ed7e48.jpg"},{orderIndex:3,url:"8bb438_1c3d74dfa2374e28b3a21331ca67fcd8.jpg"},{orderIndex:4,url:"8bb438_c4c4c03cf23e4e1ca1bcd1d5261e0794.jpg"},{orderIndex:5,url:"8bb438_93b26324e6814c609ce6f0c26c382553.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},natashaFink:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987098",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"Natasha Fink",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://www.wix.com/exposure4/model-dark-p2"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_95a633d5a64147a4896e9564e6691ece.jpg"},{orderIndex:2,url:"8bb438_bd98c95dd89d4a8287f99eb686565c60.jpg"},{orderIndex:3,url:"8bb438_adee397189054fd79774223a435a3a71.jpg"},{orderIndex:4,url:"8bb438_1d6378db77534f5cb466b706dd562813.jpg"},{orderIndex:5,url:"8bb438_6142466a30aa4865b83489ff3f984072.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"},juneRiley:{albumId:"7e1c4a01-8276-482f-9b55-4ff47b987099",dateCreated:"2015-10-06T09:32:57.000Z",editables:{title:"June Riley",date:"October 18th, 2023"},orderIndex:4,photosCount:135,publishedLayout:{link:"http://exposure4.wix.com/june-riley"},sets:[{name:"Home",orderIndex:1.1,photos:[{orderIndex:1,url:"8bb438_d3c65c27ef6b4f798ee69b0792601a71.jpg"},{orderIndex:2,url:"8bb438_3834e049435f4f41a78063ea4d3eb287.jpg"},{orderIndex:3,url:"8bb438_ec80629c0c954a3db6d2977fb65332ba.jpg"},{orderIndex:4,url:"8bb438_0c6713f8adb040b2b8d5f945938401c7.jpg"},{orderIndex:5,url:"8bb438_0cbcdfd72d7b4b5ba7451744ff101b15.jpg"}],setId:"97cc32ef-79e2-4cbc-a14e-3a28e57a64d0",setType:"cover"}],status:"publishsed"}},getGogDefaultData:function(){var a=this.defAlbums;return[a.babyLori,a.rachelSam,a.familyEverAfter,a.joshuaAshley,a.lynnRichard,a.babyAiden]}}),ReactTransitionGroup=React.addons.TransitionGroup,Photo=React.createClass({displayName:"Photo",getInitialState:function(){return{idx:0}},getPos:function(a){var b=a.nativeEvent.offsetX||a.nativeEvent.layerX;this.setState(function(a,c){var d=Math.floor(b/(this.props.width/this.props.data.length));return d=Math.max(d,0),d=Math.min(this.props.data.length-1,d),{idx:d}})},getDefaultBackground:function(a){return"//static.wixstatic.com/dicons/"+a+"_big.png"},getPhotoUrl:function(a,b,c){var d,e,f="//static.wixstatic.com/media/"+a+"/v1/",g="w_"+b+",h_"+b,h=",q_75/file.jpg";switch(c){case 1:d="fill/",e="";break;case 2:d="fit/",e="";break;case 3:default:d="fill/",e=",al_fs"}return f+d+g+e+h},render:function(){this.state.width=100*Math.ceil(this.props.width/100);var a,b=this.props.data[this.state.idx];a=b?this.getPhotoUrl(b,this.state.width,this.props.cropMode):this.getDefaultBackground(this.props.siteId);for(var c=[],d=0;d<this.props.data.length;d++)c.push(React.createElement("img",{key:d,src:this.getPhotoUrl(this.props.data[d],this.state.width,this.props.cropMode),width:"1",height:"1"}));return React.createElement("div",{className:"gog-thumbnail-container",onMouseMove:this.getPos,style:{backgroundImage:"url('"+a+"')",width:this.props.width+"px",height:this.props.width+"px",backgroundSize:"cover"}},React.createElement("div",{id:"preloader"},c))}}),Album=React.createClass({displayName:"Album",isDev:function(){var a=window.location.hostname;return"local.wix.com"==a||(location.href.indexOf("local.wix.com")>=0||(location.href.indexOf("debugApp=ph_local")>=0||a.indexOf("localhost")>=0))},isPremiumWithNewSubdomain:function(){var a=this.props.data;return a.publishedLayout&&a.publishedLayout.premiumLink&&a.publishedLayout.subDomainDate&&a.publishedLayout.subDomainDate+consts.HOUR>(new Date).getTime()},shouldOpenInModal:function(){return 1==this.albumClick&&"mobile"!==Wix.Utils.getDeviceType()&&screen&&screen.width>=1200},getPopUpUrl:function(){var a=this.isDev()?"http://local.wix.com:9000":window.location.protocol+"//albums.wix.com/_partials/albums-statics/"+window.staticsVersion;return a+="/gog_popup.html"},getLink:function(){var a,b=this.props.data;return this.isPremiumWithNewSubdomain()?a=b.publishedLayout.freeLink:b.liveLink?a=b.liveLink:console.error("cant open, no live link"),a},onClick:function(){var a,b=!1,c="true"==window.petri["specs.albums.liveLink"];if(c&&(console.log("live link flow"),a=this.getLink()),!a){var d=this.props.data;d.publishedLayout&&(d.publishedLayout.link&&(a=d.publishedLayout.link),d.publishedLayout.premiumLink&&(b=!0),this.isPremiumWithNewSubdomain()&&(a=d.publishedLayout.freeLink))}if(a)if(this.shouldOpenInModal()){var e=Wix.PubSub.subscribe("get_album_link",function(c){Wix.PubSub.publish("album_link",{link:a,premiumLink:b},!1)});Wix.openModal(this.getPopUpUrl(),1e4,1e5,function(){Wix.PubSub.unsubscribe("get_album_link",e)},Wix.Theme.BARE)}else window.open(a,"_blank")},componentDidMount:function(){this.postRender()},componentDidUpdate:function(){this.postRender()},postRender:function(){var a=this;setTimeout(function(){var b=$(".details-container"),c="none"==b.css("display")?0:b.height(),d=a.props.dimensions.width;$(".album.layout4 .overlay").css({height:d-c+"px"})},100)},getSiteId:function(){var a=this.props.data,b="";return a.publishedLayout&&a.publishedLayout.siteId&&(b=a.publishedLayout.siteId),b},render:function(){var a,b=this.props.data,c=new GogSettings(this.props.style,this.props.siteColors),d=c.getNumber("layout");if(this.albumClick=c.getAlbumClickAction(this.props.createdDate),this.props.texts){var e={};this.props.texts.title&&(e.font=this.props.texts.title),e.fontSize=this.props.texts.titleSize;var f={},g={};this.props.texts.date&&(f.font=this.props.texts.date,f.fontSize=this.props.texts.dateSize,g.font=this.props.texts.date,g.fontSize=this.props.texts.countSize);var h,i;if(h=b.editables.title?React.createElement("div",{key:"t"+this.props.key,className:"title",style:e},b.editables.title):React.createElement("div",{key:"t"+this.props.key,className:"title",style:e}," "),i=b.editables.date?React.createElement("div",{key:"d"+this.props.key,className:"date",style:f},b.editables.date," "):React.createElement("div",{key:"d"+this.props.key,className:"date",style:f}," "),4==d){var j=React.createElement("div",{key:"p"+this.props.key,className:"photos-count",style:f},b.photosCount," ",window.transUtil&&window.transUtil.getByKey("Dashboard_Main_Album_Details_NumPhotos")||"photos");a=[i,h,j]}else a=[h,i]}else a=React.createElement("div",null);var k=c.getColor("detailsBgColor"),l=c.getColor("borderColor"),m=c.textAlign,n={width:this.props.dimensions.width+"px",marginRight:c.padding,marginTop:c.padding,borderWidth:c.getNumber("borderWidth"),borderColor:l};1==d&&(n.height=n.width);var o,p=[],q=b.sets&&b.sets[0]&&b.sets[0].photos||[];for(o=0;o<q.length;o++)if(q[o].metadata&&"video"===q[o].metadata.type)for(var r=0;r<q[o].metadata.posters.length;r++)p.push(q[o].metadata.posters[r].url);else p.push(q[o].url);var s=["album","layout"+d];s.push("col-cnt"+this.props.dimensions.colCnt),this.props.texts&&s.push(this.props.texts.albumClass);var t="albums-svg-font-icons-"+(b.settings&&0==b.settings.isPublic?"lock":"external");return React.createElement("div",{className:s.join(" "),onClick:this.onClick,style:n},React.createElement("div",{className:"overlay"},React.createElement("div",{className:"mask"}),React.createElement("i",{className:t})),React.createElement(Photo,{cropMode:c.getNumber("cropMode"),className:"photo",width:this.props.dimensions.width,data:p,siteId:this.getSiteId()}),React.createElement("div",{className:"details-container",style:{backgroundColor:k}},React.createElement("div",{className:"details"+(this.props.texts?"":" hide"),style:{textAlign:m}},a)))}}),GogStaticsApp=React.createClass({displayName:"GogStaticsApp",mixins:[Reflux.connect(gogStore,"gogData")],getInitialState:function(){return{gogData:gogStore.getDefaultData()}},parseAlbums:function(a,b,c,d,e,f,g){var h=[];a=a&&0!=a.length?a.sort(function(a,b){return parseFloat(a.orderIndex)<=parseFloat(b.orderIndex)?-1:1}):this.state.gogData.defaultAlbums&&this.state.gogData.defaultAlbums.length>0?this.state.gogData.defaultAlbums:this.state.gogData.defaultTemplateAlbums;for(var i,j=0;j<a.length;j++)i=a[j],h.push(React.createElement(Album,{key:i.albumId,style:b,data:i,dimensions:c,texts:d,siteColors:e,isEditor:f,createdDate:g}));return h},setHeight:function(){var a=document.documentElement;setTimeout(function(){return Wix.setHeight(a.offsetHeight||a.scrollHeight)},500)},componentDidMount:function(){this.setHeight(),this.props.onAppLoaded()},componentDidUpdate:function(){this.setHeight()},render:function(){var a=this.state.gogData.styles,b=this.state.gogData.dimensions,c=this.state.gogData.texts,d=this.state.gogData.siteColors;if(!this.state.gogData.gogLoaded||!b)return React.createElement("p",{className:"loading"},"Loading...");var e="editor"==this.state.gogData.editMode,f=this.parseAlbums(this.state.gogData.gog.albums,a,b,c,d,e,this.state.gogData.gog.createdDate),g=Math.ceil(f.length/this.state.gogData.dimensions.colCnt),h=g*this.state.gogData.dimensions.outerWidth,i=new GogSettings(a,d),j=React.createElement("div",{className:"albums-container",style:{marginLeft:i.padding},onLoad:this.setHeight},f,React.createElement("div",{className:"cleaner"})),e="editor"==this.state.gogData.editMode;if(e&&0==this.state.gogData.gog.albums){h+=100;var k=React.createElement("div",{className:"swag"},React.createElement("div",{className:"swag-subtitle"},window.transUtil&&window.transUtil.getByKey("Gog_Viewer_Welcome")||"Welcome Photographer, double click to create your first album site"),React.createElement("div",{className:"swag-small"},window.transUtil&&window.transUtil.getByKey("Gog_Viewer_Welcome_Short")||"Double click to get started"));j=[k,j]}if(this.state.gogData.gog.demo){var k=React.createElement("div",{className:"demo-strip",style:{margin:b.padding}},React.createElement("p",{className:"bigger"},"Hey Wixers, we’re so glad you’ve come to check out our App."),React.createElement("p",null,"Wix Photo Albums is the easiest way for photogs to showcase their talent online. By giving them the power to showoff their work in unique stunning albums for every client, we’re changing the game."),React.createElement("p",null,"Go ahead and try out the App. Just add awesome photos and display your album on your site."),React.createElement("p",null,"We hope you love it – and we welcome your feedback."));j=[k,j]}return React.createElement("div",{className:"main "+this.state.gogData.editMode},React.createElement(ReactTransitionGroup,{transitionName:"fade"},j))}}),fedopsLogger=void 0;try{fedopsLogger=window.fedops.logger.create("albums-gog",{})}catch(a){console.error("Couldnt create fedops logger",a)}var appLoaded=function(){fedopsLogger.appLoaded(),Wix.Performance.applicationLoaded()},content=document.getElementById("content");content&&ReactDOM.render(React.createElement(GogStaticsApp,{onAppLoaded:appLoaded}),content);